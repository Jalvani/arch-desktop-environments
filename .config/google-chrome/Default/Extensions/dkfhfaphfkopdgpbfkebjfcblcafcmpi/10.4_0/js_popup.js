var debug_mode=0;void 0===window.localStorage.debugLevel&&(console.log("Debug Level Not Stored Yet, setting to 0 as default"),window.localStorage.debugLevel=0);debug_mode=window.localStorage.debugLevel;console.log("in POPUP page - Debug Mode from Local Storage is: "+debug_mode);void 0===window.localStorage.notifLevel&&(console.log("Notif Pref Level Not Stored Yet, setting to 3 [verbose] as default"),window.localStorage.notifLevel=3);
void 0===window.localStorage.overridePrefix&&(console.log("Override Prefix Setting Not Stored Yet in Local Storage, setting to 1 as default"),window.localStorage.overridePrefix=1);void 0===window.localStorage.autoCloseLevel&&(console.log("Auto Close Window on Reply - -Setting Not Stored Yet in Local Storage, setting to 1 as default"),window.localStorage.autoCloseLevel=1);
function _fbd240ec1e2ef65000c2316e1b39392c5551f87c50e956261a608f2b0f011f1830bed0916518e165(a,c){contacts=[];for(var d=JSON.parse(a),e=0,b;b=d.feed.entry[e];e++){var g={name:b.title.$t,id:b.id.$t,emails:[],phonenums:[]};if(b.gd$email)for(var f=b.gd$email,n=0,l;l=f[n];n++)g.emails.push(l.address);g.name||(g.name=g.emails[0]||"<Unknown>");if(b.gd$phoneNumber)for(f=b.gd$phoneNumber,n=0;l=f[n];n++)g.phonenums.push(l.$t);b.gd$phoneNumber&&contacts.push(g)}_00699f4ff4b42502944be8f6fa618b1e08958a494c347a9fa2a1d08c15bfb52b406542ef0b3c7137()}
function _12f81de096a1528e4260b78db015cdb1f99b0df2e187d9015729bed6d8c7fba0442dc06aa401c10e(){document.getElementById("resultholder").innerHTML=resultdivclean}
function _802c54c13bddbfc1972b1d29d059e4cee4844be5108dc02d96bf96a357447ade123bce3f9d916a5a(){for(var a=document.getElementById("resultholder"),c=0,d;d=contacts[c];c++){var e=document.createElement("div"),b=document.createElement("p"),g=document.createElement("ul");b.innerText=c+" - "+d.name+" - "+d.phonenums[0]+" - "+d.phonenums[1]+" - "+_c8fc9058d7c18b9c6b3b026df2cc1f9648b5940d30300cf3e152e70679acbf4b36af0ebadb2607ee(d.phonenums[0]);e.appendChild(b);for(var b=0,f;f=d.emails[b];b++){var n=document.createElement("li");
n.innerText=f;g.appendChild(n)}a.appendChild(e)}}var textcontent="STARTING_TEXT_MSG",selected_tab=0,sign_in_state=0,google_login_status=!1,login_and_beta_ready=!1,google_username_currently_logged_in="",extra_login_status_info="",most_recent_text_sent_status=0,smsarray=[];console.log(11111);
function _ec19f39b66288e3d1bb727f9b165748b45d4c2119de34ca93cb26a5ed14901fe2d9cb732e418d397(){dest_num="+14158684689";_0e33dd4c0087f2af11d9de2428db3cad08af43e44e436899bac2a06e7ae899ed6df92f1f0ab4c02d("Test SMS from MightyText",999)}
function _32e748533b581393e46e10f6c4291ba43c1c9d1c0ddc6b150e774d503ca339da38955adf025bfb68(a,c,d){"send-one-text"==a?_gaq.push(["_trackEvent","Popup","Send-SMS-Click","Single-Compose",1]):0<which_phone_num_from_hash_tag_in_url.length?_gaq.push(["_trackEvent","Popup","Send-SMS-Click","Inline-Reply-Single-Notif-Response",1]):_gaq.push(["_trackEvent","Popup","Send-SMS-Click","Inline-Reply-InApp-Tab",1]);most_recent_text_sent_status=0;var e=document.getElementById(a).value,b="error-text-content-"+d,g=
/\d/;""==e||0==e.indexOf("\n")?(document.getElementById(a).value="",document.getElementById(b).innerHTML="Text Message is Blank! "):!1==g.test(c)?document.getElementById(b).innerHTML="'Send To'  must contain a number.":(document.getElementById(a).focus(),dest_num=c,_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Destination Phone Num is: "+dest_num),_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Target Num from  is: "+c),320<e.length?
document.getElementById(b).innerHTML="Text Message is too long. "+e.length+" (max is 320)":160<e.length?(_07b62bbdc90e6470de9b5f029e6e01028ef0fc5cfa883caf5709b6625a8daa8815ae1f8f0e87aefa(a,c,d,e.substring(0,160)),_07b62bbdc90e6470de9b5f029e6e01028ef0fc5cfa883caf5709b6625a8daa8815ae1f8f0e87aefa(a,c,d,e.substring(160,319))):_07b62bbdc90e6470de9b5f029e6e01028ef0fc5cfa883caf5709b6625a8daa8815ae1f8f0e87aefa(a,c,d,e))}
function _07b62bbdc90e6470de9b5f029e6e01028ef0fc5cfa883caf5709b6625a8daa8815ae1f8f0e87aefa(a,c,d,e){document.getElementById(a).value="";db.transaction(function(a){var g=Math.floor(1E10*Math.random())+"A",f=new Date,f=_0c800fd990afaa098e2b4c4a8e59f273d3cdb66372a63f72e856d8ded49ee65077238a4ec8b5b453(f);console.log("textreplycontent RIGHT BEFORE SQL Insert is: "+e);a.executeSql("INSERT INTO Messages (googleusername,msgid,time_client,time_server,from_phone_num,body,type,status,source) VALUES (?,?,?,?,?,?,?,?,?)",
[google_username_currently_logged_in,g,f,f,c,e,1,-99,2],function(a,b){just_added_msg_id=g;_0e33dd4c0087f2af11d9de2428db3cad08af43e44e436899bac2a06e7ae899ed6df92f1f0ab4c02d(e,just_added_msg_id);var c=d+"-texts",m="";80>e.length&&(m='style="display:inline;line-height: 35px"');_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("This send box  is: "+c);document.getElementById(c).innerHTML+='<li id="sms-line-item-msgid-'+just_added_msg_id+'" class="sms-line-item sms-reply" style="mmargin-left:20px"><span class="sms-body" '+
m+">"+e+'</span>  <span class="sms-time">'+_0c800fd990afaa098e2b4c4a8e59f273d3cdb66372a63f72e856d8ded49ee65077238a4ec8b5b453DisplayPurposes(f)+'</span>  <span id="send-status-msgid-'+just_added_msg_id+'" class="outbound-state-info" style="color:maroon;font-size:10px"> Sending Request to Phone... </span> <img id="send-in-progress-image-animation-msgid-'+just_added_msg_id+'" src="loading_icon_transparent.gif" style="width:24px;height:24px"> <span class="message-action-links"><img id="red-close-button-for-msgid-'+
just_added_msg_id+'" src="red-close-x.png" class="HoverBorder" style="display:none" align="middle" height="11" width="11" onclick="_7042f258bd9c5f26b235532ed644bd5ab037d2aac101b2839ecc2539059836b7e6be3cc42380aecb(\''+just_added_msg_id+"')\"> </span> </li>";document.getElementById("sms-line-item-msgid-"+just_added_msg_id).style.backgroundColor="#EAEAEA";c="#"+c;$(c).scrollTop(2E4+$(c).height())},_43b3364ac2dbb9c8957b01fabfdc1b8c71332e75d5759c2495f730727f0b8ba13b00faaca7f7a2dc)})}
function OLD_moved_to_texty_dot__52ee494f2a69bcbd373e08091aac04ae4a5a73d5915787e6535aaed22423a71c7a664a6bb9e428a9(a,c){db.transaction(function(d){d.executeSql("INSERT INTO LocalGoogleContacts (googleusername,phone_num,contact_name) VALUES (?,?,?)",[google_username_currently_logged_in,a,c],function(a,b){_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Added  Contact to local SQL: ' + contact_name_to_insert")},_43b3364ac2dbb9c8957b01fabfdc1b8c71332e75d5759c2495f730727f0b8ba13b00faaca7f7a2dc)})}
function _0e33dd4c0087f2af11d9de2428db3cad08af43e44e436899bac2a06e7ae899ed6df92f1f0ab4c02d(a,c){_cd0337b9de5958337155ef220f2b2429a3a072f9086a96ad79c79402a98616fd49a7c20dd1e37ea7("send_sms",a,c,_a6dc18be3db5139e884762e9ef5ed4ad59e535ebc171530817c1ccbc43a464a505ce7b7f70eab182)}
function _a6dc18be3db5139e884762e9ef5ed4ad59e535ebc171530817c1ccbc43a464a505ce7b7f70eab182(a,c,d){$("#msg").css("visibility","visible");a==STATUS_SUCCESS?(_2ddb88e450d51a259a45fb5a80ce5dae2def0df2ff33a8f10515011cba0d191ae58f7f9a4dd7a3e1(),document.getElementById("msg").innerHTML="Request sent to phone.. SMS to "+dest_num,_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Attempting to Mark Local Record SENT..."),_7bcc5de1712ca86a9b061317a5ede43cb849b9dc66cda3fdb29490e5bd0e880aa1a76d7679b1f90d(c),
_0dfb9a294d7b8674657cbb00f83a4d7471b5426057dd8a6376f16bf8a513bb04d83a0cedc1a402ab(),_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Sent C2DM message, make quick polling now to check for ACK.... decrease polling frequency")):a==STATUS_LOGIN_REQUIRED?(a='<a href="#" onclick="chrome.tabs.create({url: \''+signInUrl+"'})\">"+chrome.i18n.getMessage("sign_in_message")+"</a>",document.getElementById("msg").innerHTML=chrome.i18n.getMessage("sign_in_required_message",a)):
a==STATUS_DEVICE_NOT_REGISTERED?(document.getElementById("msg").innerHTML=chrome.i18n.getMessage("device_not_registered_message"),_gaq.push(["_trackEvent","Popup","ERROR-C2DM","DEVICE-NOT-REGISTERED",1])):(document.getElementById("msg").innerHTML=chrome.i18n.getMessage("error_sending_message",d.responseText),_gaq.push(["_trackEvent","Popup","ERROR-C2DM",d.responseText,1]))}
function _0dfb9a294d7b8674657cbb00f83a4d7471b5426057dd8a6376f16bf8a513bb04d83a0cedc1a402ab(){_91aebb1999c928ffc9664fcb317e75cc610d1b4a022ba314cd82c30e6dbca18a8d9bf7948ea99c7a(!0);var a=document.getElementById("signout");a.innerHTML="Sign Out";a.style.color="blue";a.onclick=function(){chrome.tabs.create({url:signOutUrl})}}function _acd95daf4a32de15e7ec636183c884e54dddc98ed6bb7f46ad7d93f3d666be783f8daa82ad91580b(a){document.getElementById("signout").style.visibility=a}
function _ae99bbe2ea24f6fdec58153a00b05cac8d6dad784126436509f46dcfeafc57619f08ffb24387b8b9(a){for(var c=(new Date).getTime(),d=0;1E7>d&&!((new Date).getTime()-c>a);d++);}
function _7340ae83fee5df8aeeb40b94b0dfe11a272b82cdd1c382ecf779cee65f1396c723cf2a1aa2dc5b42(){document.getElementById("msg").innerHTML="";document.getElementById("top-notif-bar").innerHTML="";document.getElementById("results").innerHTML='<span id="refresh-indicator"><img src="ajax-spinner-green.gif" style="margin-left:20px"><span>'}
function _03cb2d789759b6eb99d9b0aac2696107ed15c921d819e5fc0a55eebf11090ba1e1b04101664c8316(){document.getElementById("fb-like-button").innerHTML='<iframe src="http://www.facebook.com/plugins/like.php?href=http%3A%2F%2Fwww.facebook.com%2Fpages%2FTexty%2F156773284381924&amp;layout=button_count&amp;show_faces=false&amp;width=85&amp;action=like&amp;font&amp;colorscheme=dark&amp;height=21" scrolling="no" frameborder="0" style="border:none; overflow:hidden; width:85px; height:21px;" allowTransparency="true"></iframe>'}
function _00699f4ff4b42502944be8f6fa618b1e08958a494c347a9fa2a1d08c15bfb52b406542ef0b3c7137(a){db||(db=openDatabase("Texty","1.0","Texty-SMS",2E5));_d7ed0c86bf1d12a4170b7d77f52217e285ea683a6d3663b981a2c315a136df14bb132bf601e5a01c();_e5b65b49538fea8c8a5284e7e6469ed9f629123927b2ffbca12b009f1f5322583ad241f85b6d2126();_7b5c5415b4b595dc83f0d6423d48e912078046b5292c7ebb82651f1977f19458c30a3bee33c808d7();_gaq.push(["_trackEvent","Popup","Refresh-Page","",1]);_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("In Full Refresh -- Current google_login_status is "+
google_login_status);_9af48f8f71d70287b947919f3bafb31ed21e4f3f5f8b68e21b1f620ed3f7a5f05947c8cbe1e91a7b();selected_tab=$("#results").tabs("option","selected");void 0!=selected_tab.length&&(selected_tab=0);_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("SMSarray count is "+smsarray.length);void 0!=a&&(document.getElementById("msg").innerHTML=a,$("#msg").css("visibility","visible"),$("#msg").fadeOut(4E3,function(){document.getElementById("msg").innerHTML="";$("#msg").show()}))}
function _6d05a70f2e52fafc3ae04b68fa7bb9942f05f7df3d53acd7c638a5c478556d8790d4dfa11c8e974d(){console.log("in _6d05a70f2e52fafc3ae04b68fa7bb9942f05f7df3d53acd7c638a5c478556d8790d4dfa11c8e974d");0<smsarray.length?console.log("setviewportarea"):(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Zero Messages in Local store retrieved...show quick note to user telling them..."),document.getElementById("results").innerHTML='<span style="font-size:14px;color:blue"><B><br>Currently no text messages. Hit Compose New to send a new Text Message</B></span>')}
function _8749c72a0d7746df5009900ea14d84e4ebeb757d57e5e6755616a23ed83750592adacd81c8a8b15f(a,c,d){document.getElementById(a).style.visibility=c;document.getElementById(a).style.height=d}
function _9421555cf657bfc3f332e6acecd6ccd49152b46b5d3e5825ef1a0961885f1c6edf1d86cd80976325(){google_login_status&&login_and_beta_ready?(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("about to call BG function to get google contacts info..."),_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Getting LATEST GOOGLE CONTACTS from BACKGROUND PAGE..."),chrome.extension.sendRequest({greeting:"call_from_popup_to_check_contact_info"},function(a){_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Google Contacts Token status per the BG page is: "+
a.google_contacts_token_status);"ACTIVE_GOOGLE_CONTACTS_TOKEN_STORED_LOCALLY"==a.google_contacts_token_status?(null==a.farewell?_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("There was an active token, but no Google Contacts in BG page (array is null)"):(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Getting LATEST GOOGLE CONTACTS from BACKGROUND PAGE..."+a.farewell.length+" contacts in array..."),contacts=a.farewell),null!=a.autocomplete_contacts_list&&
(autocomplete_contacts=a.autocomplete_contacts_list)):(0<document.getElementById("top-notif-bar").innerHTML.length&&(document.getElementById("top-notif-bar").innerHTML+="<br>"),document.getElementById("top-notif-bar").innerHTML+='<img  align=BOTTOM src="error_icon.png" width=20 height=18 /> <span style="color:red"> Contacts not synced.</span>  <a href="#" onclick="window.close();_0e107ffc2d3f5e257ca02afb935608d36a1a90dd9170981d59d0f8d3f003ef0f289394ded6a00696();"> Sync MightyText with your Google Contacts</a> to see names <span style="font-size:10px"></span>');
console.log("*** about to call Traverse ***");REFACTOR__b36b0ba05fd5483d8464de252cb61a04413e9d61e331c006856fe114a9ec83472d926981f48b72ec()})):_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("while in contacts retrieval, found out user not logged in or beta ready, so break out...")}
function _e5b65b49538fea8c8a5284e7e6469ed9f629123927b2ffbca12b009f1f5322583ad241f85b6d2126(){smsarray=_0c93c667baf7b096e5d23dd788c9c6fca76386082780a980e92a6d3fc2729e7b299ecf0ab80b5616()}function _43b3364ac2dbb9c8957b01fabfdc1b8c71332e75d5759c2495f730727f0b8ba13b00faaca7f7a2dc(a,c){log.innerHTML+="<p>"+c.message+"</p>"}
function _0c93c667baf7b096e5d23dd788c9c6fca76386082780a980e92a6d3fc2729e7b299ecf0ab80b5616(){var a=[],c="SELECT *,substr(replace(replace(from_phone_num,' ',''),'-',''),-7) AS right_digits_phone_num FROM (SELECT * FROM Messages ORDER BY id DESC LIMIT 0,600) ORDER BY right_digits_phone_num,time_client";0<which_phone_num_from_hash_tag_in_url.length&&(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528(which_phone_num_from_hash_tag_in_url),c="SELECT *,substr(replace(replace(from_phone_num,' ',''),'-',''),-7) AS right_digits_phone_num FROM Messages WHERE right_digits_phone_num=substr(replace(replace('"+
which_phone_num_from_hash_tag_in_url+"',' ',''),'-',''),-7) ORDER BY right_digits_phone_num,time_client");db.transaction(function(d){d.executeSql(c,[],function(c,b){for(var d=0,f=null;d<b.rows.length;d++)f=b.rows.item(d),a[d]=f,text_message_array[d]=f})});return a}
function _19b552b291a470ec38c3e5f23828fdbb4061b12a8f0c331d7c7c378c6716b638eb89d747819977d1(a){_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Checking if SMS completed full cycle yet from cloud...for msgid: "+a);db.transaction(function(c){c.executeSql("SELECT * FROM Messages WHERE msgid=?",[a],function(a,c){status_of_just_sent_message=c.rows.item(0).status;_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("status of this msg NOW is: "+
status_of_just_sent_message)})})}function _3442e75d34e8b9f3f696348d8627de288e8be6318273d1150247c93b4ca9e3cfb76ef36739b559e1(a,c){db.transaction(function(d){d.executeSql("UPDATE Messages SET googleusername = ? WHERE id = ?",[c.innerHTML,a],null,_43b3364ac2dbb9c8957b01fabfdc1b8c71332e75d5759c2495f730727f0b8ba13b00faaca7f7a2dc)})}
function _7042f258bd9c5f26b235532ed644bd5ab037d2aac101b2839ecc2539059836b7e6be3cc42380aecb(a){db.transaction(function(c){c.executeSql("DELETE FROM Messages WHERE msgid=?",[a],function(a,c){_00699f4ff4b42502944be8f6fa618b1e08958a494c347a9fa2a1d08c15bfb52b406542ef0b3c7137("Deleted message. (on Chrome only)")},_43b3364ac2dbb9c8957b01fabfdc1b8c71332e75d5759c2495f730727f0b8ba13b00faaca7f7a2dc)})}
function _73f0a2980b35f6690ed3f139d5a1273e2eeb228fdc86119ceecb41092a4a47d4400422a17986baf5(a){a="%"+a;_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Deleting all messages from this sender --- DELETE FROM Messages WHERE substr(replace(replace(from_phone_num,' ',''),'-',''),-7) LIKE "+a);db.transaction(function(c){c.executeSql("DELETE FROM Messages WHERE substr(replace(replace(from_phone_num,' ',''),'-',''),-7) LIKE ?",[a],function(a,c){_00699f4ff4b42502944be8f6fa618b1e08958a494c347a9fa2a1d08c15bfb52b406542ef0b3c7137("Deleted all text messages to/from this person (on Chrome only)")},
_43b3364ac2dbb9c8957b01fabfdc1b8c71332e75d5759c2495f730727f0b8ba13b00faaca7f7a2dc)})}
function _a8938635dce1dc10135537a3f5138fa636f211418e89551f0189587e37a7d0d0659897356d3dedf2(a){_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("in mark Read function");db.transaction(function(c){c.executeSql("UPDATE Messages SET status=1 WHERE msgid=?",[a],function(a,c){_00699f4ff4b42502944be8f6fa618b1e08958a494c347a9fa2a1d08c15bfb52b406542ef0b3c7137()},_43b3364ac2dbb9c8957b01fabfdc1b8c71332e75d5759c2495f730727f0b8ba13b00faaca7f7a2dc)})}
function _7bcc5de1712ca86a9b061317a5ede43cb849b9dc66cda3fdb29490e5bd0e880aa1a76d7679b1f90d(a){console.log("IN ************************* MARK LOCAL RECORD SENT SUCCESSFULLY **********************");_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Attempting SQL Local Record Sent to Cloud Successfully...");db.transaction(function(c){c.executeSql("UPDATE Messages SET status=51 WHERE msgid=? and status=-99",[a],function(c,e){_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Successfully updated MSGID "+
a+" from -99 to 51");0<which_phone_num_from_hash_tag_in_url.length&&0!=window.localStorage.autoCloseLevel&&setTimeout("window.close();",1500);document.getElementById("send-status-msgid-"+a).innerHTML+='<B style="color:green">OK</B>...Waiting for phone confirmation...';_19b552b291a470ec38c3e5f23828fdbb4061b12a8f0c331d7c7c378c6716b638eb89d747819977d1(a);var b=window.setInterval(function(c){_19b552b291a470ec38c3e5f23828fdbb4061b12a8f0c331d7c7c378c6716b638eb89d747819977d1(a);_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("global status of last sent message for msgid "+
a+" is: "+status_of_just_sent_message);52==status_of_just_sent_message&&(b=clearInterval(b),document.getElementById("send-status-msgid-"+a).innerHTML+='<B style="color:green">DONE!</B>',document.getElementById("send-in-progress-image-animation-msgid-"+a).style.display="none",document.getElementById("sms-line-item-msgid-"+a).style.backgroundColor="white",_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("status is 52..so..stopping polling"))},500);window.setTimeout(function(a,
c){clearInterval(b)},3E4)},_43b3364ac2dbb9c8957b01fabfdc1b8c71332e75d5759c2495f730727f0b8ba13b00faaca7f7a2dc)})}function _616168f7921d8efc52337ce166ecbc7ab4a921c54ca04181f0d12cb3e2a95b0e24d95aa1ebcb820a(){db.transaction(function(a){a.executeSql("DROP TABLE LocalGoogleContacts",[],function(a){localContactsArray=[];_00699f4ff4b42502944be8f6fa618b1e08958a494c347a9fa2a1d08c15bfb52b406542ef0b3c7137()},_43b3364ac2dbb9c8957b01fabfdc1b8c71332e75d5759c2495f730727f0b8ba13b00faaca7f7a2dc)})}
function _41a5d71d675a7102e16accd15a2efc674ae1b78fe6cfa8e4a054b888d7a80898d1a7092aa631a302(){db.transaction(function(a){a.executeSql("DROP TABLE Messages",[],function(a){smsarray=[];_00699f4ff4b42502944be8f6fa618b1e08958a494c347a9fa2a1d08c15bfb52b406542ef0b3c7137()},_43b3364ac2dbb9c8957b01fabfdc1b8c71332e75d5759c2495f730727f0b8ba13b00faaca7f7a2dc)})}
function _d7ed0c86bf1d12a4170b7d77f52217e285ea683a6d3663b981a2c315a136df14bb132bf601e5a01c(){db.transaction(function(a){a.executeSql("SELECT * FROM LocalGoogleContacts",[],function(a,d){for(var e=0,b=null;e<d.rows.length;e++)b=d.rows.item(e),localContactsArray[e]=b},function(a,d){_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("FAILED to select from LocalGoogleContacts -- create this table?")})})}
function _e38ce5e85ef34605495ae43d262095f48b02e483cf3cae73b4aa510b0dd531923eacb87bcbe8158a(){_gaq.push(["_trackEvent","Popup","Compose-New-Button-Click","",1]);_8749c72a0d7746df5009900ea14d84e4ebeb757d57e5e6755616a23ed83750592adacd81c8a8b15f("resultholder","visible","300px");document.getElementById("results").style.background="none";document.getElementById("results").innerHTML='<div id="compose-single-text" style="clear:both;font-size:18px;margin-left:5px">';document.getElementById("compose-single-text").innerHTML+=
'<a href="#" onclick="location.reload(true);" style="font-size:14px;color:green"><B>\u2190 Back to text messages</a></B><br><br>';contact_box_prompt="Start typing a name or number...";document.getElementById("compose-single-text").innerHTML+='<p><B>Send To:</B> <span style="font-size:9px;color:blue">&nbsp&nbsp&nbsp(currently can only send to 1 person at a time)</span></p>';document.getElementById("compose-single-text").innerHTML+='<input id="compose-number" type="text" size=50 name="compose-number" style="color:darkgrey; border:1px solid #CCC;-webkit-border-radius:10px;margin:0px;padding:5px;font-family:arial;font-size:14px" value="'+
contact_box_prompt+"\" onblur=\"if (this.value == '')  {this.style.color='darkgrey';this.value = '"+contact_box_prompt+"';}\" onfocus=\"if (this.value == '"+contact_box_prompt+"') {this.style.color='black';this.value = '';}\"/><br><br>";document.getElementById("compose-single-text").innerHTML+='<p><B>Message:</B></p> <textarea id="send-one-text" value="starting val" onfocus="document.getElementById(\'error-text-content-single-text\').innerHTML=\'\';" style="height:60px;width:400px;border:1px solid #CCC; -webkit-border-radius:10px; margin:0px;padding:5px;font-family:\'Inconsolata\',arial;font-size:15px"></textarea>';
document.getElementById("compose-single-text").innerHTML+='<button id="send-button-single-text" style="font-family:arial;font-size:12px;mmargin:0px;padding:5px;margin-left:10px;margin-top:-5px;clear:both;" onclick="_e3176ceb5ee5c61a5df32a9f2dfc7a4124273c83b3138eb871419a1b90f7f275251f38b8ee2ae5bd();"> Send</button>';document.getElementById("compose-single-text").innerHTML+='<span style="font-size:14px;font-weight:bold;color:#3F8CD9;border:none;font-family:arial;margin-left:20px" id="charsLeft-one-text"> </span>';
document.getElementById("compose-single-text").innerHTML+="</div>";document.getElementById("compose-single-text").innerHTML+='<br><div id="single-text-texts" style="font-size:14px"></div>';document.getElementById("compose-single-text").innerHTML+='<br><div id="error-text-content-single-text" style="font-weight:bold;color:red;font-size:14px"></div>';$("#send-one-text").delegate("","keypress",function(a){13==a.keyCode&&(a.preventDefault(),$("#send-one-text").blur(),_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("enter triggered"),
_99327423eb61abce6a85713ff0d8db0be22427c87f60301ea0a36c2bf5f99a403be5421787eeb17b()&&(a=$("#send-one-text")[0].value,$("#send-one-text")[0].value=a.replace("\n",""),$("#send-button-single-text").click()),$("#send-one-text").focus())});_e25f8d8d5a60f78f5dfcb22d9e6086b91c3bb9833d7c4df01c05d458af8bc910fd9615729685c3a3();$("#send-one-text").NobleCount("#charsLeft-one-text");$(function(){$("#compose-number").autocomplete({source:autocomplete_contacts})})}
function _99327423eb61abce6a85713ff0d8db0be22427c87f60301ea0a36c2bf5f99a403be5421787eeb17b(){if(google_login_status)return!0;document.getElementById("msg").innerHTML='<span style="color:black">** Unable to send any new text messages until you sign in **</span>';return!1}
function _b3eb7ff0bedfbc9aea444650951c5576a37a88623d822bbd20cd19a099367badedcc660322b3c1c9(){document.getElementById("user-actions").innerHTML="";0<which_phone_num_from_hash_tag_in_url.length?setTimeout('$("textarea#inputsms-0").focus();',100):google_login_status&&(document.getElementById("user-actions").innerHTML+='<button class="pill positive button" onclick="if(_99327423eb61abce6a85713ff0d8db0be22427c87f60301ea0a36c2bf5f99a403be5421787eeb17b()) {_e38ce5e85ef34605495ae43d262095f48b02e483cf3cae73b4aa510b0dd531923eacb87bcbe8158a();}"> <span class="pen icon"></span> Compose New</button>',
document.getElementById("user-actions").innerHTML+='<button class="pill button" onclick="document.getElementById(\'msg\').innerHTML =  \'\';_00699f4ff4b42502944be8f6fa618b1e08958a494c347a9fa2a1d08c15bfb52b406542ef0b3c7137();"><span class="reload icon"></span>Refresh</button>')}
function _78c0fea8c2cbc70e1f19fc426337c5cae982c8ed7c83bdde3211f818c5e3e4ec9c7e46c5ed8304a6(){document.getElementById("results").innerHTML="";document.getElementById("user-actions").innerHTML="";document.getElementById("messages").innerHTML=""}
function _dd6f504bc92bae1ab82f16231c7a114a29121aae17962cbcbbd3713afe0fed5ad3d02d735bbe9a56(){null!=window.localStorage&&1==window.localStorage.usingWebAppNew&&($("body").hide(),alert('To set options for MightyText, click "Settings" in the Web application. Redirecting now.'),_a905e88abd50a10498b9fce710f965e4d994e0b78fa4be629d32b5290689a65aee868e5d0a56ed51());_gaq.push(["_trackEvent","Popup","Options-Page-Load","",1]);_78c0fea8c2cbc70e1f19fc426337c5cae982c8ed7c83bdde3211f818c5e3e4ec9c7e46c5ed8304a6();
document.getElementById("results").innerHTML="";document.getElementById("results").innerHTML+='<br><div><a href="#" onclick="location.reload(true);" style="font-size:12px;color:green"><br><B>  \u2190 back to text messages</B></a><br><span style="color:maroon;font-size:13px"><B>Please note: The options below are only applicable if you are using the Chrome Extension to send/receive messages.  If you are an early tester on the new MightyText Web App, the options below do not apply.<B></span><br><br></div>';
document.getElementById("results").innerHTML+='<div id="notificationLevelSelection" class="options-section"><strong>Desktop Notification Preference</strong>: When a new text message comes in, what text to show in the desktop notification.<br><br> <input id="notif-level-3" type="radio" name="notif_level" value="3" onclick="_00ccac220b4f5f163bcf1a1b72f4efcf7ddc1f19019a954af7fbddb9f1d38528b0d2a6d328b35039(this)" >Sender Name and Message Text (e.g. "<B>Bill Jones:</B>  Running 15 minutes late. Do you want me to pick up dinner?") - <B>default</B> <br> <input id="notif-level-2" type="radio" name="notif_level" value="2" onclick="_00ccac220b4f5f163bcf1a1b72f4efcf7ddc1f19019a954af7fbddb9f1d38528b0d2a6d328b35039(this)">Just Sender Name (e.g. "New text from Bill Jones. <B><U>see it</U></B>")</div>';
$("input[id=\"notif-level-' + window.localStorage.notifLevel + '\"]").attr("checked",!0);document.getElementById("results").innerHTML+='<div id="debugLevelSelection" class="options-section"><strong>Debug Level</strong><br><br><input id="debug-level-1" type="radio" name="debug_level" value="1" onclick="_3493ca94080e7493ed8e8708d70b63bfac443803f8b3afde000bcbd07b87e668450caba7717a7a8d(this)">Debug info to local console only<br> <input id="debug-level-0" type="radio" name="debug_level" value="0" onclick="_3493ca94080e7493ed8e8708d70b63bfac443803f8b3afde000bcbd07b87e668450caba7717a7a8d(this)">Debugging OFF - <B>default</B></div>';
$("input[id=\"debug-level-' + window.localStorage.debugLevel + '\"]").attr("checked",!0);document.getElementById("results").innerHTML+='<div id="autoCloseWindowOnReplySelection" class="options-section"><strong>Popup Window after Replying</strong><br><br><input id="auto-close-1" type="radio" name="auto_close_window" value="1" onclick="_2c2dc9c4ff6d1101f6c369cec9f32b0aa388846700b7858a85fe7328455145a1552e17378e980fe7(this)">Automatically close window after sending reply<br> <input id="auto-close-0" type="radio" name="auto_close_window" value="0" onclick="_2c2dc9c4ff6d1101f6c369cec9f32b0aa388846700b7858a85fe7328455145a1552e17378e980fe7(this)">Leave popup window open after sending reply</div>';
$("input[id=\"auto-close-' + window.localStorage.autoCloseLevel + '\"]").attr("checked",!0);document.getElementById("results").innerHTML+='<div id="adminTools" class="options-section"><strong>Advanced Options: </strong><br><br>';document.getElementById("adminTools").innerHTML+='<button onclick="_ec19f39b66288e3d1bb727f9b165748b45d4c2119de34ca93cb26a5ed14901fe2d9cb732e418d397()">Send Test SMS to USA #</button>';console.log(signOutUrl);!0==google_login_status?document.getElementById("adminTools").innerHTML+=
"<button onclick=\"chrome.tabs.create({url: '"+signOutUrl+"'})\">Sign Out of MightyText</button>":document.getElementById("adminTools").innerHTML+="<button onclick=\"chrome.tabs.create({url: '"+signInUrl+"'})\">Sign In to MightyText</button>";document.getElementById("adminTools").innerHTML+='<button onclick="_a754b3b0dc763f32c739ca6fee5007d051a18c1df47dbcb1c351e98fe9a24d4c963d71eda3727ab5();_38da7ad9ace6225b1fcd52872a3fdb7e7d2ab5195f3307d957a718ee2df794a78ab47d5f5fb7cd4d();_00699f4ff4b42502944be8f6fa618b1e08958a494c347a9fa2a1d08c15bfb52b406542ef0b3c7137();">Create Local Data Stores</button>';
document.getElementById("adminTools").innerHTML+='</b><button onclick="_616168f7921d8efc52337ce166ecbc7ab4a921c54ca04181f0d12cb3e2a95b0e24d95aa1ebcb820a()">Delete all Local Contacts</button><br>';document.getElementById("adminTools").innerHTML+='</b><button onclick="_41a5d71d675a7102e16accd15a2efc674ae1b78fe6cfa8e4a054b888d7a80898d1a7092aa631a302()">Delete all Local Messages</button>';oauth.hasToken()?(document.getElementById("adminTools").innerHTML+='<button onclick="_12f81de096a1528e4260b78db015cdb1f99b0df2e187d9015729bed6d8c7fba0442dc06aa401c10e();_417c0fac05873ac2d242b677cf58afa94d463d9b40204ddbcc55d9a54db86bb36f6dd0cb65a0b81e();">Force Sync w/ Google Contacts</button>',
document.getElementById("adminTools").innerHTML+='<button onclick="_e47b46b90853b465c193968051c2554b3bc25ef1cc7932316b2081620c9f9e6659529a783c5d7607();_00699f4ff4b42502944be8f6fa618b1e08958a494c347a9fa2a1d08c15bfb52b406542ef0b3c7137();">Clear Stored Contacts Token</button>'):document.getElementById("adminTools").innerHTML+='<button onclick="_417c0fac05873ac2d242b677cf58afa94d463d9b40204ddbcc55d9a54db86bb36f6dd0cb65a0b81e();">Get Google Contacts Token</button>';document.getElementById("results").innerHTML+=
"</div>"}
function _00ccac220b4f5f163bcf1a1b72f4efcf7ddc1f19019a954af7fbddb9f1d38528b0d2a6d328b35039(a){null==window.localStorage?_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Local storage is required!"):(a=a.value,3==a?window.localStorage.notifLevel=3:2==a?window.localStorage.notifLevel=2:1==a&&(window.localStorage.notifLevel=1),document.getElementById("msg").innerHTML="Updated Notification Preference",$("#msg").fadeOut(2E3,function(){document.getElementById("msg").innerHTML="";
$("#msg").show()}))}
function _3493ca94080e7493ed8e8708d70b63bfac443803f8b3afde000bcbd07b87e668450caba7717a7a8d(a){null==window.localStorage?_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Local storage is required!"):(a=a.value,2==a?window.localStorage.debugLevel=2:1==a?window.localStorage.debugLevel=1:0==a&&(window.localStorage.debugLevel=0),debug_mode=window.localStorage.debugLevel,document.getElementById("msg").innerHTML="Updated Debug Level",$("#msg").fadeOut(2E3,function(){document.getElementById("msg").innerHTML=
"";$("#msg").show()}))}
function _2c2dc9c4ff6d1101f6c369cec9f32b0aa388846700b7858a85fe7328455145a1552e17378e980fe7(a){null==window.localStorage?_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Local storage is required!"):(a=a.value,1==a?window.localStorage.autoCloseLevel=1:0==a&&(window.localStorage.autoCloseLevel=0),document.getElementById("msg").innerHTML="Updated Window Close Preference",$("#msg").fadeOut(2E3,function(){document.getElementById("msg").innerHTML="";$("#msg").show()}))}
function _3b01ed5e0e50a72facc3a69036c54852ca66aff4be82e672d352e6e819364baa09a5851f210dd0ae(a){null==window.localStorage?_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Local storage is required!"):(a=a.value,1==a?window.localStorage.overridePrefix=1:0==a&&(window.localStorage.overridePrefix=0),document.getElementById("msg").innerHTML="Updated +1 Override Setting",$("#msg").fadeOut(2E3,function(){document.getElementById("msg").innerHTML="";$("#msg").show()}))}
function _e3176ceb5ee5c61a5df32a9f2dfc7a4124273c83b3138eb871419a1b90f7f275251f38b8ee2ae5bd(){var a=document.getElementById("compose-number").value;_32e748533b581393e46e10f6c4291ba43c1c9d1c0ddc6b150e774d503ca339da38955adf025bfb68("send-one-text",a,"single-text")}function _72cec463e1a0879411dd274b7fceb1755a1b3bfeb87cd0820d8917261590765f1c9c45ddb352fcf2(a,c,d){a=document.getElementById(a);c=document.getElementById(c);a.value.length>d?a.value=a.value.substring(0,d):c.value=d-a.value.length}
function _b36b0ba05fd5483d8464de252cb61a04413e9d61e331c006856fe114a9ec83472d926981f48b72ec(){console.log("In Traverse");var a=(new Date).getTime();document.getElementById("resultholder").innerHTML=resultdivclean;document.getElementById("messages").innerHTML="";db.transaction(function(c){c.executeSql("SELECT 1",[],function(c,e){for(var b=0;1>b;b++){var g="inputsms-0",f="sendbox-0",n="charsLeft-0",l=0,p="";new Boolean(!1);var m="";_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("sms array length is "+
smsarray.length);for(var b=0,h="initial";b<=smsarray.length&&0!=smsarray.length;b++){if(b==smsarray.length||h!=smsarray[b].right_digits_phone_num){console.log("** At end of thread **");if(0!=b){document.getElementById(f).innerHTML+='<div id="send-action" style="margin-top:10px">';document.getElementById(f).innerHTML+='<textarea id="'+g+'" value="starting val" name="limitedtextarea" onfocus="document.getElementById(\'error-text-content-'+f+"').innerHTML='';\" style=\"float:left;height:60px;width:450px;border:1px solid #CCC;-webkit-border-radius:10px;margin:0px;padding:5px;font-family:'Inconsolata',arial;font-size:15px\" ></textarea>";
document.getElementById(f).innerHTML+='<span style="font-size:14px;font-weight:bold;color:#3F8CD9;border:none" id="'+n+'"> </span>';document.getElementById(f).innerHTML+='<span style="margin-top:160px">';document.getElementById(f).innerHTML+='<button id="send-button-'+l+'" style="float:left;font-size:15px;margin-left:5px" class="positive pill" onclick="if(_99327423eb61abce6a85713ff0d8db0be22427c87f60301ea0a36c2bf5f99a403be5421787eeb17b()) {_32e748533b581393e46e10f6c4291ba43c1c9d1c0ddc6b150e774d503ca339da38955adf025bfb68(\''+
g+"','"+k+"','"+f+'\');}"> <span class="mail icon"></span>Send</button>';document.getElementById(f).innerHTML+="</span>";document.getElementById(f).innerHTML+='<button id="delete-all-from-sender" style="float:right;font-size:10px;margin-top:0px;ppadding:10px" class="negative button" onclick="_73f0a2980b35f6690ed3f139d5a1273e2eeb228fdc86119ceecb41092a4a47d4400422a17986baf5(\''+h+'\')"><span class="trash icon"></span> Delete all from this sender</button>';document.getElementById(f).innerHTML+="</div>";
document.getElementById(f).innerHTML+='<div id="enter-help-msg" style="padding:5px;margin:10px;margin-top:6px;text-align:left;font-size:12px;color:green">&nbsp  \u2190 Press Enter to send<br><span style="font-size:10px;color:grey"> &nbsp Will send SMS via your phone to: <B>'+k+"<B></span></div>";document.getElementById(f).innerHTML+='<div id="error-text-content-'+f+'" style="font-weight:bold;color:red;font-size:14px"></div>';$("#"+g).delegate("","keypress",function(a){if(13==a.keyCode&&(a.preventDefault(),
$("#"+a.target.id).blur(),_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("enter triggered, and blur attempt"),_99327423eb61abce6a85713ff0d8db0be22427c87f60301ea0a36c2bf5f99a403be5421787eeb17b())){var b=a.target.id,c=$("#"+b)[0].value;$("#"+b)[0].value=c.replace("\n","");b=b.substr(9);$("#send-button-"+b).click()}$("#"+a.target.id).focus()});if(b==smsarray.length){console.log("***** AT LAST MESSAGE IN ARRAY IN TRAVERSE FUNCTION *****");break}l+=1;g="inputsms-"+String(l);
f="sendbox-"+String(l);n="charsLeft-"+String(l)}document.getElementById("results").innerHTML+='<div id="'+f+'" style="margin-top:4px;background-colorrr:white;padding:0px;"></div>';_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("----------------------------------------------------------------------------");h=smsarray[b].right_digits_phone_num;_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("phone # in messages table is: "+h);_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Length of this # is: "+
h.length);h=h.replace("+","");7>h.length&&(h=_cd728dc99608f03b47a0ba2f76eeadb7d6722c11722944f89091ce5d9b1c5fbdfd00568555f67a8a(h,7));_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Looking up (last 7 digits of phone num): "+h+" -- in local contacts array -- from msgid: "+smsarray[b].id);var k=0,m=_1bb9c0f712a99afc7d6cf3557f027fff595950c6ae4374ca0b67482d986da5f6d3e712b924f08bf9(h);""!=m?(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528(h+
" WAS  FOUND in Local Contacts DB"),p=m.contactNameLocalDB+'<span style="padding-left:3px;font-size:9px;text-decoration:none;"> ('+m.contactPhoneNumberLocalDB+")</span>",k=m.contactPhoneNumberLocalDB):(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528(h+" WAS NOT FOUND in Local Contacts DB -- so now look at Temp Synced G Contacts (from Background Page)"),_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Currently: "+contacts.length+
" contacts in Locally Temp Synced G Contacts OAuth array"),0==contacts.length&&(p=smsarray[b].from_phone_num,k=smsarray[b].from_phone_num,_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("No oAuth G Contacts - Will just display full phone number  in tab: "+smsarray[b].from_phone_num+" to user...")),0<contacts.length&&(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Looking up: "+h+" -- in Locally Temp Synced G Contacts OAuth array"),
k=_dbc69650be3f281abbb43bf69b8d4badb201f730fdd2906a0065a2700ce380bccbaf16b0fe5b30c9(h,smsarray[b].from_phone_num),""==k?(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528(h+" NOT FOUND in Locally Temp Synced G Contacts OAuth array"),_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Will just display phone number (last # in thread): "+smsarray[b].from_phone_num),p=smsarray[b].from_phone_num,k=smsarray[b].from_phone_num):(p=k.contactNamefromGoogleContactsArray+
" ("+k.contactPhoneNumberfromGoogleContactsArray+")r",k=k.contactPhoneNumberfromGoogleContactsArray)));document.getElementById("anchors-for-tabs").innerHTML+='<li><a href="#'+f+'">'+p+"</a></li>";0<which_phone_num_from_hash_tag_in_url.length&&(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("single reply thread -- attempting to hide ul anchors"),$("ul#anchors-for-tabs").hide(),$("ul#anchors-for-tabs").height(1),$("div#top-notif-bar").hide(),$("div#close-window-button-red-x").hide(),
$("div#sendbox-0").css("padding-top","0"),setTimeout("$('div#sendbox-0-texts').css('border-top-left-radius','0px 0px');",10),setTimeout("$('button#delete-all-from-sender').hide();",10),setTimeout("$('button#send-button').text('Send Reply');",10),document.getElementById("results").innerHTML='<div id="single-reply-heading" style="margin-bottom:-10px;font-size:22px;color:white;background-color:#0087D2;margin-left:0px;padding:12px;padding-bottom:20px;margin-top:30px;padding-right:0px;border-top-left-radius:10px;border-top-right-radius:10px;letter-spacing: -0.5px;clear:both"><B>'+
p+"</B></div>"+document.getElementById("results").innerHTML);document.getElementById(f).innerHTML+='<div class="text-message-list" style="height:300px" id="'+f+'-texts"> </div>'}h=smsarray[b].right_digits_phone_num;m="";1==smsarray[b].type&&(m=" sms-reply");b==smsarray.length-1&&0==smsarray[b].type&&0<which_phone_num_from_hash_tag_in_url.length&&_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528(" msgid for bolding is: "+smsarray[b].msgid);buildTextList='<li id="sms-line-item-msgid-'+
smsarray[b].msgid+'" class="sms-line-item'+m+'">';m="";m=80>smsarray[b].body.length?'style="display:inline;line-height: 35px"':"";buildTextList+='<span id= "sms-body-msgid-'+smsarray[b].msgid+'" class="sms-body" '+m+">"+smsarray[b].body+'</span>  <span class="sms-time">'+_0c800fd990afaa098e2b4c4a8e59f273d3cdb66372a63f72e856d8ded49ee65077238a4ec8b5b453DisplayPurposes(smsarray[b].time_client)+"</span>";1==smsarray[b].type&&(51==smsarray[b].status?buildTextList+='<span class="outbound-state-info"> [Computer&nbsp&raquo&nbspYour&nbspPhone] </span>':
52==smsarray[b].status?buildTextList+='<span class="outbound-state-info" style="color:green"> [Full Cycle Complete] </span>':-99==smsarray[b].status?buildTextList+='<span class="outbound-state-info" style="color:maroon"> [Failed Send] </span>':1==smsarray[b].status&&(buildTextList+='<span class="outbound-state-info" style="color:maroon"> [Phone Sent SMS] </span>'));buildTextList+='<span class="message-action-links">';buildTextList+='<img src="red-close-x.png" class="HoverBorder" align=middle height=11 width=11 style="margin-left:3px;margin-bottom:5px" onclick="_7042f258bd9c5f26b235532ed644bd5ab037d2aac101b2839ecc2539059836b7e6be3cc42380aecb(\''+
smsarray[b].msgid+"')\"> </span> </li>";document.getElementById(f+"-texts").innerHTML+=buildTextList}console.log("DONE GENERATING HTML!");window.setTimeout("_6d05a70f2e52fafc3ae04b68fa7bb9942f05f7df3d53acd7c638a5c478556d8790d4dfa11c8e974d()",100);window.setTimeout("_61717e9367f4c1e53c81c2d12b424bc09567a6078421a8c5feb8f0dde088a5ef66d52fc01f95e63d();",0);g=(new Date).getTime();_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528(a);_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528(g);
_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Time to Load Tabs: "+(g-a)/1E3);console.log("value of i (counter) got to: "+b+"...sms total based on array was: "+smsarray.length);console.log("number of unique contacts with messages isss: "+l);300<smsarray.length&&_gaq.push(["_trackEvent","Popup","HIGH-NUMBER-Local-Messages-Chrome-DataStore","HIGH-NUM-"+smsarray.length+"-Messages-Across-"+l+"-Contacts---"+google_username_currently_logged_in,smsarray.length]);_gaq.push(["_trackEvent",
"Popup","Count-Recipients-In-Tab-List","",l]);_gaq.push(["_trackEvent","Popup","Count-Local-Messages-Array","",smsarray.length])}_5114d2a4ced1b7b142a7852a4889f41a57127b7b0ecf5f10fdb49731aaa29e9e558bf7532cd24993(l)})})}function _5114d2a4ced1b7b142a7852a4889f41a57127b7b0ecf5f10fdb49731aaa29e9e558bf7532cd24993(a){_e25f8d8d5a60f78f5dfcb22d9e6086b91c3bb9833d7c4df01c05d458af8bc910fd9615729685c3a3();for(var c=0,c=0;c<=a;c++)$("#inputsms-"+c).NobleCount("#charsLeft-"+c),$("#charsLeft-"+c).html("160")}
function _e25f8d8d5a60f78f5dfcb22d9e6086b91c3bb9833d7c4df01c05d458af8bc910fd9615729685c3a3(){$.fn.NobleCount.settings={on_negative:null,on_positive:null,on_update:function(a,c,d,e){a=c.selector;320==e?$(a)[0].innerHTML=160:$(a)[0].innerHTML=e%160;0>=e?c.css("color","red"):c.css("color","#3F8CD9");0<Math.floor((320-e)/161)&&($(a)[0].innerHTML=$(a)[0].innerHTML+' <span style="font-size:12px;color:green;font-weight:normal">[#2]</span>')},max_chars:320,block_negative:!0,cloak:!1,in_dom:!1}}
function _0c800fd990afaa098e2b4c4a8e59f273d3cdb66372a63f72e856d8ded49ee65077238a4ec8b5b453DisplayPurposes(a){var c="",d=new Date(a);a=d.getHours();c=12>a?"AM":"PM";0==a&&(a=12);12<a&&(a-=12);var e=d.getMinutes();10>e&&(e="0"+e);var b=d.getDate(),g=d.getMonth();g++;d=d.getFullYear().toString().slice(2);return g+"/"+b+"/"+d+" "+a+":"+e+" "+c}
function _0e107ffc2d3f5e257ca02afb935608d36a1a90dd9170981d59d0f8d3f003ef0f289394ded6a00696(){chrome.extension.sendRequest({purpose:"get_new_g_contacts_token_call_from_popup"},function(a){_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Checking Background Page for Google Contacts token...");_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("new response from BG page is "+a.myreply)})}
function _2ddb88e450d51a259a45fb5a80ce5dae2def0df2ff33a8f10515011cba0d191ae58f7f9a4dd7a3e1(){chrome.extension.sendRequest({purpose:"set_quick_polling_outbound_message"},function(a){_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Checking Background Page to set quick polling because outbound message is being sent...");_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("new response from BG page is "+a.myreply)})}
function _7b5c5415b4b595dc83f0d6423d48e912078046b5292c7ebb82651f1977f19458c30a3bee33c808d7(){console.log("in getFreshLatestGoogle function");chrome.extension.sendRequest({purpose:"user_invoked_popup_so_force_google_login_check"},function(a){_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Popup Starting -- call BG page to get latest Google Login Info in BG scope");_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("response from BG page is "+
a.reply)})}
function _e62ce6db0778c17110fe2c6d218892d2067b806ec911a3c9e85856a7f15d626ac979e224bdafe7b4(){console.log("in getFreshLatestGoogle function");chrome.extension.sendRequest({purpose:"user_invoked_popup_so_force_google_login_check"},function(a){_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Popup Starting -- call BG page to get latest Google Login Info in BG scope");_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("response from BG page is "+a.reply)})}
function _9af48f8f71d70287b947919f3bafb31ed21e4f3f5f8b68e21b1f620ed3f7a5f05947c8cbe1e91a7b(){_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("In CheckBGPageforGoogleLoginState function");chrome.extension.sendRequest({purpose:"popup_checking_current_google_login_state"},function(a){console.log("Checking Background Page for current Google Login important info...(BG page is polling for it)");console.log("response from BG page...login_status is: "+a.google_login_status_from_bg_page);
console.log("response from BG page...login_and_beta_ready is: "+a.login_and_beta_ready_from_bg_page);console.log("response from BG page...google_username_currently_logged_in is: "+a.google_username_currently_logged_in_from_bg_page);console.log("response from BG page...extra_login_status_info is: "+a.extra_login_status_info_from_bg_page);google_login_status=a.google_login_status_from_bg_page;login_and_beta_ready=a.login_and_beta_ready_from_bg_page;google_username_currently_logged_in=a.google_username_currently_logged_in_from_bg_page;
extra_login_status_info=a.extra_login_status_info_from_bg_page;console.log("google login status is : "+google_login_status);console.log("extra login status is : "+extra_login_status_info);google_login_status?"WEBAPP_BETA"==extra_login_status_info?(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("User is a WEBAPP BETA user"),_a905e88abd50a10498b9fce710f965e4d994e0b78fa4be629d32b5290689a65aee868e5d0a56ed51(),console.log("aaaa"),window.close(),a='<img align=BOTTOM src="error_icon.png" width=20 height=18 /> <span style="color:black;font-size:13px"><B>Hi - You\'ve signed up to use the new MightyText Web App.</span> <a href="#" onclick="window.close();chrome.tabs.create({url: \''+
signOutUrl+"'})\"> Log out of MightyText</a>",document.getElementById("top-notif-bar").innerHTML=a):"USER_REG_BUT_NO_ACTIVE_ANDROID_REG"==extra_login_status_info?(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("This user does not have an active Android App registration! (either never set up or they disconnected..)"),a='<img  align=BOTTOM src="error_icon.png" width=20 height=18 /> <span style="color:black;font-size:13px"><B>Android App Not Installed:</B> Please make sure you have installed the MightyText Android app from Google Play &amp configure it using this same Google account.</span> <a href="#" onclick="window.close();chrome.tabs.create({url: \''+
signOutUrl+"'})\"> Log out of MightyText</a>",document.getElementById("top-notif-bar").innerHTML=a):(_9421555cf657bfc3f332e6acecd6ccd49152b46b5d3e5825ef1a0961885f1c6edf1d86cd80976325(),$("#static-links-plus-separator").empty(),$("#sign-in-status").empty(),$("#top-notif-bar").empty(),a="13px",35<google_username_currently_logged_in.length?a="9px":25<google_username_currently_logged_in.length&&(a="11px"),document.getElementById("sign-in-status").innerHTML+='<img src="green-dot-icon.png"><span style="color:white;font-size:'+
a+';font-weight:600"> '+google_username_currently_logged_in+" |</span>",$("#sign-in-status").removeClass(),document.getElementById("static-links-plus-separator").innerHTML+='<a id="rate-review" style="color:gold;font-size:13px" href="#" onclick="window.close();chrome.tabs.create({url: \'https://market.android.com/details?id=com.texty.sms&reviewId=123\'});">Rate us</a>|',document.getElementById("static-links-plus-separator").innerHTML+='<a id="texty-on-facebook" href="#" onclick="window.close();chrome.tabs.create({url: \'http://www.facebook.com/mightytext\'});">fb</a>|',
document.getElementById("static-links-plus-separator").innerHTML+='<a id="admin" onclick="_dd6f504bc92bae1ab82f16231c7a114a29121aae17962cbcbbd3713afe0fed5ad3d02d735bbe9a56();" href="#" >Options</a>|',$("#static-links-plus-separator").removeClass(),_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Logged in fine, so show the google username and Options link..."),_b3eb7ff0bedfbc9aea444650951c5576a37a88623d822bbd20cd19a099367badedcc660322b3c1c9(),window.setTimeout(function(){document.getElementById("dynamic-message").innerHTML=
dynamic_info_global},1500)):(1==window.localStorage.usingWebAppNew&&(_a905e88abd50a10498b9fce710f965e4d994e0b78fa4be629d32b5290689a65aee868e5d0a56ed51(),window.close()),a='<img  align=BOTTOM src="error_icon.png" width=20 height=18 /> <span style="color:red"> Not Signed in.</span>  <a href="#" onclick="window.close();chrome.tabs.create({url: \''+signInUrl+"'})\"> Sign-in using your Google Account</a> to use MightyText",document.getElementById("top-notif-bar").innerHTML=a+"<br>"+document.getElementById("top-notif-bar").innerHTML,
console.log(signInUrl))})}function _fbec91301bb83af67a6b459b37652e71069c7722178f26277678fadd7cb0d691c07b283ff2ea93e9(a){for(var c="";-1<a.search("[-]");)a=a.replace("-","");for(;-1<a.search("[ ]");)a=a.replace(" ","");for(;-1<a.search("[(]");)a=a.replace("(","");for(;-1<a.search("[)]");)a=a.replace(")","");-1==a.search("[+]")&&(c="1"==a.charAt(0)?"+":"+1");return c+a}
function _1d11578d155791f198b48b81ffed2e3668d13e343817d09d68f18f1fe34f4f455213921c4ab34f79(a){console.log("phone num to check is: "+a);0==a.search("[+1]")&&(a=a.substring(2));console.log("after substring - phonenum override is: "+a);return a}function _283a9fa4d0d39c41e6b54eacc8021774817350e4a31fce4c50571a0517d39099313b8138a047c534(){_283a9fa4d0d39c41e6b54eacc8021774817350e4a31fce4c50571a0517d39099313b8138a047c534GoogleOpenID();window.close()}
function _61717e9367f4c1e53c81c2d12b424bc09567a6078421a8c5feb8f0dde088a5ef66d52fc01f95e63d(){console.log("in UI_REFRESH_MAGIC");$(function(){0>=selected_tab&&(selected_tab=0,$("#sendbox-0-texts").scrollTop(4E4+$("#sendbox-0-texts").height()));$("#results").tabs();$("#results").show();$("#results").tabs("select",selected_tab);var a="#sendbox-"+selected_tab+"-texts";$(a).scrollTop(4E4+$(a).height());$("#results").bind("tabsshow",function(a,d){var e="#"+d.panel.id+"-texts";$(e).scrollTop(4E4+$(e).height());
$("#inputsms-"+d.index).focus();_gaq.push(["_trackEvent","Popup","Thread-Tab-Click","",1])})});$("#inputsms-"+selected_tab).focus();0<which_phone_num_from_hash_tag_in_url.length&&setTimeout('$("textarea#inputsms-0").focus();',100);$("#refresh-indicator").hide()}
function REFACTOR__b36b0ba05fd5483d8464de252cb61a04413e9d61e331c006856fe114a9ec83472d926981f48b72ec(){var a=(new Date).getTime();document.getElementById("resultholder").innerHTML=resultdivclean;document.getElementById("messages").innerHTML="";db.transaction(function(c){c.executeSql("SELECT 1",[],function(c,e){for(var b=0;1>b;b++){var g="inputsms-0",f="sendbox-0",n="libox-0",l="charsLeft-0",p=0,m="";_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("sms array length is "+
smsarray.length);for(var b=0,h="initial";b<=smsarray.length&&0!=smsarray.length;b++){if(b==smsarray.length||h!=smsarray[b].right_digits_phone_num){if(0!=b){document.getElementById(f).innerHTML+='<div id="send-action" style="margin-top:10px">';document.getElementById(f).innerHTML+='<textarea id="'+g+'" value="starting val" name="limitedtextarea" onfocus="document.getElementById(\'error-text-content-'+f+"').innerHTML='';\" style=\"float:left;height:60px;width:450px;border:1px solid #CCC;-webkit-border-radius:10px;margin:0px;padding:5px;font-family:'Inconsolata',arial;font-size:15px\" ></textarea>";
document.getElementById(f).innerHTML+='<span style="font-size:14px;font-weight:bold;color:#3F8CD9;border:none" id="'+l+'"> </span>';document.getElementById(f).innerHTML+='<span style="margin-top:160px">';document.getElementById(f).innerHTML+='<button id="send-button-'+p+'" style="float:left;font-family:arial;font-size:12px;margin-left:10px" class="positive button" onclick="if(_99327423eb61abce6a85713ff0d8db0be22427c87f60301ea0a36c2bf5f99a403be5421787eeb17b()) {_32e748533b581393e46e10f6c4291ba43c1c9d1c0ddc6b150e774d503ca339da38955adf025bfb68(\''+
g+"','"+k+"','"+f+'\');}"><span class="mail  icon"></span> Send</button>';document.getElementById(f).innerHTML+="</span>";document.getElementById(f).innerHTML+='<button id="delete-all-from-sender" style="float:right;font-family:arial;font-size:12px;margin:10px;margin-top:0px;padding:5px" class="negative button" onclick="_73f0a2980b35f6690ed3f139d5a1273e2eeb228fdc86119ceecb41092a4a47d4400422a17986baf5(\''+h+'\')"><span class="trash icon"></span> Delete all from this sender</button>';document.getElementById(f).innerHTML+=
"</div>";document.getElementById(f).innerHTML+='<div id="enter-help-msg" style="paddinggg:5px;margin:10px;margin-top:10px;text-align:left;font-size:12px;color:green">&nbsp&nbsp\u2190 Press Enter to send<br><span style="font-size:10px;color:grey"> &nbsp Will send SMS via your phone to: <B>'+k+"<B></span></div>";document.getElementById(f).innerHTML+='<div id="error-text-content-'+f+'" style="font-weight:bold;color:red;font-size:14px"></div>';$("#"+g).delegate("","keypress",function(a){if(13==a.keyCode&&
(a.preventDefault(),$("#"+a.target.id).blur(),_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("enter triggered, and blur attempt"),_99327423eb61abce6a85713ff0d8db0be22427c87f60301ea0a36c2bf5f99a403be5421787eeb17b())){var b=a.target.id,c=$("#"+b)[0].value;$("#"+b)[0].value=c.replace("\n","");b=b.substr(9);$("#send-button-"+b).click()}$("#"+a.target.id).focus()});if(b==smsarray.length)break;p+=1;g="inputsms-"+String(p);f="sendbox-"+String(p);n="libox-"+String(p);l=
"charsLeft-"+String(p)}document.getElementById("results").innerHTML+='<div id="'+f+'" style="margin-top:10px;bbbackground-color:white;padding:0px;"></div>';_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("--------------------------------------------------------------------------------------------------");h=smsarray[b].right_digits_phone_num;_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("phone # in messages table is: "+h);_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Length of this # is: "+
h.length);h=h.replace("+","");7>h.length&&(h=_cd728dc99608f03b47a0ba2f76eeadb7d6722c11722944f89091ce5d9b1c5fbdfd00568555f67a8a(h,7));_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Looking up (last 7 digits of phone num): "+h+" -- in local contacts array -- from msgid: "+smsarray[b].id);var k=0,q=_1bb9c0f712a99afc7d6cf3557f027fff595950c6ae4374ca0b67482d986da5f6d3e712b924f08bf9(h);""!=q?(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528(h+
" WAS  FOUND in Local Contacts DB"),m=q.contactNameLocalDB+'<span style="padding-left:3px;font-size:9px;text-decoration:none;"> ('+q.contactPhoneNumberLocalDB+")</span>",k=q.contactPhoneNumberLocalDB):(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528(h+" WAS NOT FOUND in Local Contacts DB -- so now look at Temp Synced G Contacts (from Background Page)"),_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Currently: "+contacts.length+
" contacts in Locally Temp Synced G Contacts OAuth array"),0==contacts.length&&(m=smsarray[b].from_phone_num,k=smsarray[b].from_phone_num,_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("No oAuth G Contacts - Will just display full phone number  in tab: "+smsarray[b].from_phone_num+" to user...")),0<contacts.length&&(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Looking up: "+h+" -- in Locally Temp Synced G Contacts OAuth array"),
k=_dbc69650be3f281abbb43bf69b8d4badb201f730fdd2906a0065a2700ce380bccbaf16b0fe5b30c9(h,smsarray[b].from_phone_num),""==k?(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528(h+" NOT FOUND in Locally Temp Synced G Contacts OAuth array"),_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Will just display phone number (last # in thread): "+smsarray[b].from_phone_num),m=smsarray[b].from_phone_num,k=smsarray[b].from_phone_num):(m=k.contactNamefromGoogleContactsArray+
" ("+k.contactPhoneNumberfromGoogleContactsArray+")",k=k.contactPhoneNumberfromGoogleContactsArray)));document.getElementById("anchors-for-tabs").innerHTML+='<li title="'+k+'" id="'+n+'"><a href="#'+f+'">'+m+"</a></li>";0<which_phone_num_from_hash_tag_in_url.length&&(_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("single reply thread -- attempting to hide ul anchors"),$("ul#anchors-for-tabs").hide(),$("ul#anchors-for-tabs").height(1),$("div#top-notif-bar").hide(),
$("#action-info-bar").hide(),$("div#close-window-button-red-x").hide(),$("div#sendbox-0").css("padding-top","0"),setTimeout("$('div#sendbox-0-texts').css('border-top-left-radius','0px 0px');",10),setTimeout("$('button#delete-all-from-sender').hide();",10),setTimeout("$('button#send-button').text('Send Reply');",10),document.getElementById("results").innerHTML='<a style="float:left;clear:both;font-size:12px" href="'+chrome.extension.getURL("popup.html")+'">\u2190 See all message threads</a><br><br><div id="single-reply-heading" style="margin-bottom:-10px;font-size:16px;text-align:left;color:white;background-color:#0087D2;margin-left:0px;padding:8px;padding-right:0px;margin-top:30px;border-top-left-radius:10px;border-top-right-radius:10px;letter-spacing: -0.5px;"><B>'+
m+"</B></div>"+document.getElementById("results").innerHTML);document.getElementById(f).innerHTML+='<div class="text-message-list" style="height:300px" id="'+f+'-texts"> </div>'}h=smsarray[b].right_digits_phone_num;console.log("** Message Line item **")}g=((new Date).getTime()-a)/1E3;console.log("Time to Generate HTML: "+g);window.setTimeout(function(){_6d05a70f2e52fafc3ae04b68fa7bb9942f05f7df3d53acd7c638a5c478556d8790d4dfa11c8e974d()},100);REFACTOR__61717e9367f4c1e53c81c2d12b424bc09567a6078421a8c5feb8f0dde088a5ef66d52fc01f95e63d();
300<smsarray.length&&_gaq.push(["_trackEvent","Popup","HIGH-NUMBER-Local-Messages-Chrome-DataStore","HIGH-NUM-"+smsarray.length+"-Messages-Across-"+p+"-Contacts---"+google_username_currently_logged_in,smsarray.length]);_gaq.push(["_trackEvent","Popup","Count-Recipients-In-Tab-List","",p+1]);_gaq.push(["_trackEvent","Popup","Count-Local-Messages-Array","",smsarray.length]);_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("value of i (counter) got to: "+b+"...sms total based on array was: "+
smsarray.length);_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("number of unique threads with messages is: "+p+1)}_5114d2a4ced1b7b142a7852a4889f41a57127b7b0ecf5f10fdb49731aaa29e9e558bf7532cd24993(p)})})}
function REFACTOR__61717e9367f4c1e53c81c2d12b424bc09567a6078421a8c5feb8f0dde088a5ef66d52fc01f95e63d(){console.log("in REFACTOR - UI_REFRESH_MAGIC");$(function(){console.log("selected tab variable stored in page memory\t: "+selected_tab);0>=selected_tab&&(selected_tab=0,$("#sendbox-0-texts").scrollTop(4E4+$("#sendbox-0-texts").height()));$("#results").tabs();$("#results").tabs("select",selected_tab);console.log("1111");_47bde954ebb79cdb41f38e1bc5a7bb6ef517693500de4e5b8152988147d4700a3884ebcf0cc4f214(selected_tab);
console.log("222");$("#results").show();console.log("333");var a="#sendbox-"+selected_tab+"-texts";console.log("444");$(a).scrollTop(4E4+$(a).height());$("#results").bind("tabsselect",function(a,c){var b="#inputsms-"+c.index;console.log("Clicked Tab ui index is: "+c.index);_9fee5110996487c12e15f4583e83702e4af6ce6e0b1ea91d44be154a5ee3041cc94b172fa6647528("Clicked Tab Phone Number is: "+c.tab.parentNode.title);_47bde954ebb79cdb41f38e1bc5a7bb6ef517693500de4e5b8152988147d4700a3884ebcf0cc4f214(c.index);
$(b).focus();console.log(a);console.log(c);console.log($(c.panel).children("textarea").focus());_gaq.push(["_trackEvent","Popup","Thread-Tab-Click","",1])})});var a="#inputsms-"+selected_tab;$(a).focus();console.log("555");console.log(a);0<which_phone_num_from_hash_tag_in_url.length&&setTimeout('$("textarea#inputsms-0").focus();',100);$("#refresh-indicator").hide()}
function _47bde954ebb79cdb41f38e1bc5a7bb6ef517693500de4e5b8152988147d4700a3884ebcf0cc4f214(a){var c=[],d="",e="sendbox-"+a+"-texts";select_sql_string="SELECT *,substr(replace(replace(from_phone_num,' ',''),'-',''),-7) AS right_digits_phone_num FROM Messages WHERE right_digits_phone_num=substr(replace(replace('"+$("#libox-"+a).attr("title")+"',' ',''),'-',''),-7) ORDER BY right_digits_phone_num,time_client";console.log(select_sql_string);db.transaction(function(b){b.executeSql(select_sql_string,[],
function(b,f){for(var n=0,l=null;n<f.rows.length;n++)console.log("in loop - getmessagesarraydataforonenumber"),l=f.rows.item(n),c[n]=l;console.log("array length of one number array is "+c.length);d=_b5235af9f5ec30d14db6821ae734779db06daa6e5657903fd720fb8d158249acf83e40222b952048(c,e,a)});console.log("success! -- in getmessagesarraydataforonenumber")});console.log("Returned value of HTML from function is, and should be:"+d);console.log(d)}
function _b5235af9f5ec30d14db6821ae734779db06daa6e5657903fd720fb8d158249acf83e40222b952048(a,c,d){var e=document.getElementById(c).innerHTML="";console.log("now generate HTML");console.log("array length passed in is: "+a.length);for(var b=0;b<a.length&&0!=a.length;b++){console.log("generating html");var g="";1==a[b].type&&(g=" sms-reply");e+='<li id="sms-line-item-msgid-'+a[b].msgid+'" class="sms-line-item'+g+'">';g="";g=80>a[b].body.length?'style="display:inline;line-height: 35px"':"";e+='<span id= "sms-body-msgid-'+
a[b].msgid+'" class="sms-body" '+g+">"+_d650f34642346b66d8960867689b22ec8f4fb2e1432cee131835e0372b4fbdae960bbe69178fb8e7(a[b].body)+'</span>  <span class="sms-time">'+_0c800fd990afaa098e2b4c4a8e59f273d3cdb66372a63f72e856d8ded49ee65077238a4ec8b5b453DisplayPurposes(a[b].time_client)+"</span>";1==a[b].type&&(51==a[b].status?e+='<span class="outbound-state-info"> [Computer&nbsp&raquo&nbspYour&nbspPhone] </span>':52==a[b].status?e+='<span class="outbound-state-info" style="color:green"> [Full Cycle Complete] </span>':
-99==a[b].status?e+='<span class="outbound-state-info" style="color:maroon"> [Failed Send] </span>':1==a[b].status&&(e+='<span class="outbound-state-info" style="color:maroon"> [Phone Sent SMS] </span>'));e+='<span class="message-action-links">';e+='<img src="red-close-x.png" class="HoverBorder" align=middle height=11 width=11 style="margin-left:3px;margin-bottom:5px" onclick="_7042f258bd9c5f26b235532ed644bd5ab037d2aac101b2839ecc2539059836b7e6be3cc42380aecb(\''+a[b].msgid+"')\"> </span> </li>"}console.log("we plan to populate this DOM with these threads for a single phone number: "+
c);a="#"+c;document.getElementById(c).style.display="none";document.getElementById(c).innerHTML+=e;$(a).fadeIn(200,function(){});console.log("here");$("#"+c).scrollTop(14E4);console.log("here2");$("#inputsms-"+d).focus();console.log("here3")}console.log(222);