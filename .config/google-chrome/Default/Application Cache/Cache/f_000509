hd.prototype.extend=Z(79,function(a){for(var b=0;b<arguments.length;b++)Gc(arguments[b],function(a,b){this.add(b,a)},this)});KO("appsshare");function W_a(){return'<div class="shared-parent-change"><span class="shared-parent-change-desc">Some settings cannot be changed because they are inherited from a shared folder.</span><span>[<span class="shared-parent-change-link" role="link">Change</span>]</span></div>'};function r$(a){this.tb=a;this.Gd=void 0}r$.prototype.pa=function(){return this.tb};r$.prototype.setData=function(a){this.Gd=a};r$.prototype.Ob=function(){var a={};a["shsc-type"]=this.tb;a["shsc-data"]=this.Gd;return Cd(a)};function X_a(a){r$.call(this,"shsc-set-visible");this.setData(a)}y(X_a,r$);X_a.prototype.ea=function(){return this.Gd};function s$(a){r$.call(this,"shsc-set-ids");this.setData(a)}y(s$,r$);s$.prototype.nja=function(){return this.Gd};function t$(a,b,c){this.YSa=a;this.hta=b||null;this.DTa={};this.kl={};this.I=new K(this);B(this,this.I);this.I.B(c||n.window,"message",this.Cm)}y(t$,A);t$.prototype.sendMessage=function(a){this.hta&&this.hta.postMessage(a.Ob(),this.YSa)};t$.prototype.Cm=function(a){a=a.ld;if(a.origin==this.YSa){var b=a.data?Ad(a.data):{};a=b["shsc-type"];var b=b["shsc-data"],c=this.DTa[a];if(c){var d=null;try{d=c(b)}catch(f){}d&&D(this.kl[a],function(a){a.call(null,d)})}}};
function Y_a(a,b){a.DTa[b]=Z_a(b);a.kl[b]||(a.kl[b]=[])}function Z_a(a){return function(){return new r$(a)}}function $_a(a,b,c){var d=a.kl[b];d||(d=[],a.kl[b]=d);d.push(c)};function u$(a,b,c){W.call(this,c);this.Ub=a;this.yga=b;this.cda=!1;this.jc=[];this.vQa=!1;this.wG=new t$(this.yga,void 0,this.F().getWindow());Y_a(this.wG,"shsc-ready");Y_a(this.wG,"shsc-close");$_a(this.wG,"shsc-ready",v(this.Hrb,this));$_a(this.wG,"shsc-close",v(this.Grb,this))}y(u$,W);u$.prototype.D=function(){this.R=Xf("iframe",{style:"display: none; background-color: transparent; position: absolute; top: 0; left: 0; z-index: 1006",src:this.Ub,onload:v(this.Xub,this),hPb:0,height:"100%",width:"100%"})};
u$.prototype.Xub=function(){var a=this.o().contentWindow;this.wG.hta=a};u$.prototype.Hrb=function(){this.cda=!0;var a=this.jc;this.jc=a;this.cda&&this.wG.sendMessage(new s$(a));a0a(this,this.vQa)};u$.prototype.Grb=function(){T(this.o(),!1);this.dispatchEvent("Uf");this.dispatchEvent("Vf")};function a0a(a,b){a.vQa=b;a.cda&&(T(a.o(),b),a.wG.sendMessage(new X_a(b)))};function b0a(a){W.call(this,a)}y(b0a,W);function v$(a){W.call(this,a)}y(v$,b0a);v$.prototype.Gh=function(a){var b=this.o();b&&(b.style.width=a+"px")};v$.prototype.Pe=function(){var a=this.o();return a?zn(a).height:0};function w$(a){W.call(this,a);this.Pz=new u$("/modifyparentsremove",this.F().getWindow().location.origin);this.S(this.Pz)}y(w$,v$);e=w$.prototype;e.$b=function(){return!1};e.D=function(){this.R=U(W_a);this.qq=this.F().X("shared-parent-change-link",this.o());this.Pz.D()};e.L=function(){w$.A.L.call(this);sg(this.qq,!0);this.N().Ab(this.qq,Vm,this.X9a);this.N().B(this.qq,"keypress",this.Y9a);this.F().ja().body.appendChild(this.Pz.o());this.N().B(this.Pz,"Uf",this.An)};e.An=function(){this.va&&this.qq.focus()};
e.X9a=function(){a0a(this.Pz,!0)};e.Y9a=function(a){13==a.keyCode&&a.stopPropagation()};function x$(a,b){this.qxa=a;this.Pz=b;this.I=new K(this);B(this,this.I);this.I.B(this.Pz,"Vf",this.asa);this.I.B(this.qxa,["uiOpened","aclInfoUpdated"],this.Mmb)}y(x$,A);x$.prototype.Mmb=function(){var a=this.qxa.Wf;if(a){var b=this.Pz;b.jc=a;b.cda&&b.wG.sendMessage(new s$(a))}};x$.prototype.asa=function(){this.qxa.Ns("refresh")};function c0a(a,b,c,d){this.CVa=a;this.Pj=b;this.DVa=c;this.Zf=d}c0a.prototype.Mg=function(){return this.Pj};c0a.prototype.Ob=function(){var a={};a.iconId=this.CVa;a.message=this.Mg();a.showInDialog=this.DVa;a.timeout=this.Zf;return a};function y$(a,b){W.call(this,b);this.Xd=a}y(y$,W);y$.prototype.tb="info";y$.prototype.osa=!1;var d0a={info:"jfk-butterBar-info",error:"jfk-butterBar-error",warning:"jfk-butterBar-warning",promo:"jfk-butterBar-promo"};e=y$.prototype;e.pa=function(){return this.tb};e.Vc=function(a){this.oa()&&jP(this.o(),d0a[this.tb],d0a[a]);this.tb=a};e.Bb=function(a){this.Xd=a;if(a=this.o()){var b=this.F();b.Ce(a);b.append(a,this.Xd)}};e.ea=function(){var a=this.o();return null!=a&&zo(a,"jfk-butterBar-shown")};
e.O=function(a){Eo(this.o(),"jfk-butterBar-shown",a)};e.D=function(){this.R=this.F().D("div","jfk-butterBar");var a=this.o();Q(a,"live","assertive");Q(a,"atomic","true");this.Bb(this.Xd);this.osa=this.osa;(a=this.o())&&Eo(a,"jfk-butterBar-mini",this.osa);this.Vc(this.tb)};function e0a(a){this.na=a||If()}y(e0a,A);
function f0a(a,b,c){var d;switch(b.CVa){case "copy":d="share-client-copy-icon";break;case "person":d="share-client-person-icon";break;case "personLink":d="share-client-person-link-icon"}d=a.na.D("SPAN",["apps-share-sprite","share-client-butter-icon",d]);var f=a.na.D("SPAN",null,b.Mg());d=a.na.D("SPAN",null,d,f);var g=a.na.D("DIV","share-client-butterbar-container");d=new y$(d,a.na);d.render(g);d.O(!0);a.na.appendChild(document.body,g);g0a(g,b.DVa,c);T(g,!0);window.setTimeout(v(function(){T(g,!1);
g.remove()},a),b.Zf)}function g0a(a,b,c){var d=parseInt(bn(a,"width"),10);if(b&&c){b=parseInt(bn(c,"left"),10);var f=parseInt(bn(c,"top"),10);c=parseInt(bn(c,"width"),10);var g=parseInt(bn(a,"height"),10);R(a,"position","absolute");en(a,b+(c-d)/2,f+g/2)}else a.style.marginLeft=-(d/2)+"px"};function z$(a,b){L.call(this);this.na=a||If();this.$fb="jfk"==b}y(z$,L);e=z$.prototype;e.AJ=null;e.I=null;e.Mb=!1;e.ma=function(){return this.I||(this.I=new K(this))};e.F=function(){return this.na};e.init=function(){this.jd()||(this.Cba(),this.Mb=!0)};e.jd=function(){return this.Mb};function h0a(a,b,c){var d=a.AJ;b&&(d||(a.AJ||(d=new eq(void 0,!0,a.F()),d.render(),d.Cc(qq()),d.Qb(""),a.$fb&&As(d,oq.key),O(d.o(),"share-client-error-dialog"),a.AJ=d),d=a.AJ),d.Bb(c||""));d&&d.O(b)}
e.H=function(){C(this.AJ);C(this.I);z$.A.H.call(this)};e.Cba=da;e.b6a=da;function A$(a,b){z$.call(this,a,b);var c=new eq(void 0,!1,a);mq(c,!1);c.GY=!0;"jfk"==b&&As(c,"");this.ma().B(c,"dialogselect",this.Ni);this.bd=c;this.eOa=!1;this.sgb=new e0a(a)}y(A$,z$);e=A$.prototype;e.Rpa=null;e.Ni=function(){this.O(!1);return!1};e.Cba=function(){var a=this.bd;a.va||a.render();O(a.o(),"share-client-dialog");T(a.o(),!0);this.O(!1)};e.ea=function(){return this.eOa};
e.O=function(a){var b=this.bd;b.va||this.init();a?(!0!=b.hX&&iq(b,!0),b.wc(),Hf(b.o(),"share-client-offscreen",!1),b.O(!0)):(!1!=b.hX&&iq(b,!1),b=b.o(),b.style.right="",b.style.left="",b.style.top="",Hf(b,"share-client-offscreen",!0));this.eOa=a};e.b6a=function(a){var b=this.Rpa;a&&!b&&(b=new eq(void 0,!0,this.F()),b.Bb('<div class="share-client-loading-contents"><div class="share-client-spinner"> </div></div>'),b.Cc(null),b.Qb("Loading..."),this.ma().B(b,"afterhide",this.Agb),this.Rpa=b);b&&b.O(a)};
e.Agb=function(){this.dispatchEvent("uiContainerCancelLoad")};e.Bb=function(a){this.bd.Bb(a)};e.Qb=function(a){this.bd.Qb(a);var b=yg(this.F(),"IFRAME",void 0,this.bd.oa());0<b.length&&(b[0].title=a)};e.resize=function(a,b){var c=this.bd.oa();c.style.width=a+"px";c.style.height=b+"px";G&&(c=Rf(document),Ac(8)&&c||(c=c?0:18,this.bd.o().style.width=a+c+"px"))};e.H=function(){C(this.bd);C(this.Rpa);A$.A.H.call(this)};function B$(a,b){A$.call(this,a,b);this.Nk={}}y(B$,A$);var C$={IQb:"bottom",tUb:"top"};e=B$.prototype;e.Xd="";e.qOa=!0;e.bL=null;e.Gba=null;e.J8=null;e.oWa="";e.je="";
e.Cba=function(){B$.A.Cba.call(this);var a=this.F(),b=this.bd.oa(),c=a.D("div"),d=a.D("div");d.innerHTML=this.Xd;d.className="share-client-panel-dialog-share";var f={},g;for(g in C$)g=C$[g],f[g]=a.D("div");a.appendChild(b,f.top);a.appendChild(b,c);a.appendChild(b,d);a.appendChild(b,f.bottom);this.bL=d;c.className="share-client-panel-dialog-overlay";this.Gba=c;this.qOa=a=this.qOa;if(b=this.Gba){if(!a){var c=zn(this.bL),d=c.height,h=this.Gba;h.style.width=c.width+"px";h.style.height=d+"px"}T(b,!a);
Bn(this.bL,a?1:0.5)}this.J8=f;for(g in C$)g=C$[g],f[g].className="share-client-panel-dialog-component-"+g,(a=this.Nk[g])&&a&&g&&a.render(this.J8[g])};e.Qb=function(a){this.je=a;this.oWa&&(a=a+" - "+this.oWa);B$.A.Qb.call(this,a)};e.Bb=function(a){this.Xd=a;this.bL&&(this.bL.innerHTML=a)};e.kna=function(a,b){var c=this.Nk[b];this.Nk[b]=a;this.ma().B(a,"resize",this.gh);this.jd()&&a&&b&&a.render(this.J8[b]);return c?(c.cb(),c.o()&&dg(c.o()),c):null};
e.gh=function(){var a=zn(this.bL);this.resize(a.width,a.height)};e.resize=function(a,b){var c=this.bL;c.style.width=a+"px";c.style.height=b+"px";c=this.Gba;c.style.width=a+"px";c.style.height=b+"px";var c=0,d;for(d in C$){d=C$[d];var f=this.Nk[d];!f||"top"!=d&&"bottom"!=d||(f.Gh(a),c+=f.Pe())}B$.A.resize.call(this,a,b+c)};e.H=function(){for(var a in C$)a=C$[a],C(this.Nk[a]);this.J8=this.Nk=null;B$.A.H.call(this)};function i0a(){this.Pxb=this.nF("share-email-attachment","Email as an attachment...");this.Qxb=this.nF("share-email-collaborators","Email collaborators...");this.sE=this.nF("share-share","Share...")}var D$=null;i0a.prototype.nF=function(a,b){var c={};c.label=b;c.visible=!0;c.hint=b;return new iP(a,c)};function E$(a){this.f5=a.userRole||0;this.QT=null!=a.maxAnyoneRole?a.maxDomainRole:30;this.RT=null!=a.maxAnyoneRole?a.maxDomainRole:30;this.XBb=!!a.editorsCanInvite;this.ZBb=a.numSharedUsers||0;this.kz=!!a.sharingDisabled;this.$Bb=a.userDomain||fj;var b=a.itemDomains;this.YBb=ab(s(b)?b:[b||null],function(a){return a||fj});b=a.sharingPolicies;b=s(b)?b:[b||null];this.hyb=ab(b,function(a){return a||ij});this.rBa=!!a.exportable;this.qv=a.visibilitySetting||null;this.cz=a.shareableUrl||null;this.sBa=!!a.requestShareEnabled}
y(E$,A);e=E$.prototype;e.sr=function(){return this.f5};e.Rja=function(){return this.XBb};e.BEa=function(){return this.ZBb};e.CEa=function(){return this.$Bb};e.AEa=function(){return this.YBb};e.Sj=function(){return this.qv};e.Au=function(a){this.qv=a};
e.Ob=function(){var a={};a.userRole=this.sr();a.editorsCanInvite=this.Rja();a.numSharedUsers=this.BEa();a.sharingDisabled=this.kz;a.userDomain=this.CEa().Ob();a.itemDomains=ab(this.AEa(),function(a){return a.Ob()});a.sharingPolicies=ab(this.hyb,function(a){return a.Ob()});a.maxAnyoneRole=this.QT;a.maxDomainRole=this.RT;a.exportable=this.rBa;this.Sj()&&(a.visibilitySetting=this.Sj().Ob());a.shareableUrl=this.cz;a.requestShareEnabled=this.sBa;return a};
function j0a(a){a=Ub(a);var b=a.userDomain;b&&(a.userDomain=bj(b));b=a.itemDomains;b=s(b)?b:[b||null];a.itemDomains=ab(b,function(a){return a?bj(a):a});b=a.sharingPolicies;b=s(b)?b:[b||null];a.sharingPolicies=ab(b,function(a){return a?hj(a):a});(b=a.visibilitySetting)&&(a.visibilitySetting=Ej(b));return new E$(a)};function k0a(a){this.Xd=a.content||"";this.Hk=a.header||"";this.tb=a.type||"";this.tm=a.learnMoreUrl||""}e=k0a.prototype;e.Ge=function(){return this.Xd};e.PO=function(){return this.Hk};e.pa=function(){return this.tb};e.BG=function(){return this.tm};e.Ob=function(){var a={};a.content=this.Ge();a.header=this.PO();a.type=this.pa();a.learnMoreUrl=this.BG();return a};function F$(){}y(F$,Go);ea(F$);e=F$.prototype;e.D=function(a){return a.F().createElement("span")};e.$b=function(){return!0};e.fa=function(a,b){F$.A.fa.call(this,a,b);a.Au(l0a(b));return b};
e.tr=function(a){var b=a.o(),c;c=(c=a.qv)?c.qQ():null;if(b&&c){var d='<span class="share-pill  ';switch(c.state){case "private":d+="share-pill-private";break;case "unlisted":d+="share-pill-unlisted";break;case "public":d+="share-pill-public"}var f='<span class="goog-inline-block   apps-share-sprite  ';switch(c.state){case "private":f+="share-pill-private-icon";break;case "unlisted":f+=c.PTa?"share-pill-domain-unlisted-icon":"share-pill-unlisted-icon";break;case "public":f+=c.PTa?"share-pill-domain-public-icon":
"share-pill-public-icon"}f+='" vhsh="true" vsjson="'+X(c.Dmb)+'">&nbsp;</span>';d+='">'+f+'<span class="share-pill-text">'+X(c.summary)+"</span></span>";b.innerHTML=d;a.yi().So(LMa(c))}};e.Bg=function(){return"link"};e.la=function(){return"share-pill-container"};function l0a(a){a=a.childNodes;var b=null;a&&a.length&&(a=a[0].childNodes)&&0<a.length&&(b=a[0]);if(!b)return null;a=b.getAttribute("vsjson");return a?(a=Ad(ZO(a)))?Ej(a):null:null};function G$(a,b){Po.call(this,null,a||F$.U(),b)}y(G$,Po);e=G$.prototype;e.qv=null;e.nd=null;e.yi=function(){this.nd||(this.nd=new Dy(this.o()));return this.nd};e.L=function(){G$.A.L.call(this);this.ka.tr(this)};e.Au=function(a){this.qv=a;this.ka.tr(this)};e.H=function(){G$.A.H.call(this);this.nd&&(this.nd.Q(),this.nd=null);this.qv=null};function H$(a,b){this.Xe=a;this.yga=b;this.Yka=[];this.p4a=v(this.Cm,this);window.addEventListener("message",this.p4a,!1);this.kl=new F}y(H$,A);H$.prototype.Cm=function(a){if(a.origin==this.yga){var b=Ad(a.data),c=b.args;if(b=this.kl.get(b.type))this.Xe=a.source,this.Yka&&(D(this.Yka,function(a){this.sendMessage(a.oCb,a.qCb)},this),this.Yka=[]),b.call(null,c)}};H$.prototype.wk=function(a,b,c){this.kl.set(a,v(b,c))};
H$.prototype.sendMessage=function(a,b){if(this.Xe){var c={};c.type=a;b&&(c.args=b);this.Xe.postMessage(Cd(c),this.yga)}else this.Yka.push({oCb:a,qCb:b})};H$.prototype.H=function(){window.removeEventListener("message",this.p4a,!1)};function I$(a,b,c,d,f){eU.call(this,a,b,f);this.Nsb=c||"";this.tm=d||"";this.bA=new Xo(this.qYa,dU.U(),f);this.S(this.bA)}y(I$,eU);e=I$.prototype;e.qYa="Okay, thanks";e.lbb="Learn more";e.pa=function(){return this.Nsb};e.D=function(){I$.A.D.call(this);O(this.o(),"share-client-promo");var a=this.oa();this.bA.render(a);this.tm&&a.appendChild(this.F().D("a",{target:"_blank",href:this.tm},this.lbb))};e.L=function(){I$.A.L.call(this);M(this.meb,0,this);this.N().B(this.bA,"action",this.neb)};e.meb=function(){this.bA.Bb(this.qYa)};
e.neb=function(){this.O(!1);this.dispatchEvent("hide")};e.H=function(){I$.A.H.call(this);this.bA.Q();delete this.bA};function J$(a,b,c,d,f,g,h,k,m,p,r,t,w,z,S){L.call(this);this.cA=a;this.Ck=r||new A$(d,h);this.Wna=t||window;(a=f)?a.fd()&&a.Te(new fw(d),0,!0):(a=ew.U(),a=new gw(d,a));if(g){d=K$(this);if(f=this.du)d.Xz(f.o(),Vm,this.doa),f.Q();f=null;g&&(f=new G$,this.rx&&f.Au(this.ih.Sj()),f.fa(g),d.Ab(g,Vm,this.doa));this.du=f}g=a.o();g||(a.D(),g=a.o());O(g,"goog-menu-noaccel");this.D9a&&a.O(!1);this.xI=a;g=sq.U();(this.rma=new bw(this.B9a,void 0,void 0,g)).La(!1);(this.J7=new bw(this.C9a,void 0,void 0,g)).La(!1);
this.$I=b;this.y7=c;this.T8a=p||b;this.ih=new E$({});this.na=a.F();this.he=k||null;this.S8a=q(m)?m:!0;this.pJa=new mX;t:switch(h||"classic"){case "classic":b=1;break t;case "stjw":case "jfk":b=Math.max(1,2);break t;default:throw Error("Unknown share UI");}this.Dq=b;t:switch(h||"classic"){case "classic":case "stjw":h="1";break t;case "jfk":h="2";break t;default:throw Error("Unknown share UI");}this.pKa=h;this.fi=z||null;this.oX=!!w;this.oKa=w||null;this.w9a=S||null;this.oX||m0a(this,this.Wna);w=K$(this);
w.B(a,"show",this.F9a);w.B(a,"action",this.jJa);w.B(this.Ck,"uiContainerCancelLoad",this.E9a)}y(J$,L);e=J$.prototype;e.Cwb=!1;e.D9a=!0;e.HDb=!0;e.qha=null;e.O_=null;e.Bj=null;e.rx=!1;e.BN=!1;e.vba=null;e.cba=null;e.B7a=null;e.I=null;e.Wf=null;e.Kja=!1;e.wia=null;e.mja=null;e.ADa=!1;e.rN=!1;e.Yw=!1;e.a6a=!1;e.nV=null;e.Qia=0;e.mZa=!1;e.Eh=null;e.y$=0;e.lta=null;e.ZK=null;e.du=null;e.VAa=!1;e.Ctb=!1;e.tY=!1;e.n0a=!1;e.B9a="Loading...";e.C9a="Sharing is unavailable at this time. Please try again later.";
e.UCb="Sorry, sharing is unavailable at this time. Please try again later.";e.dx=null;
function m0a(a,b){a.oX||(b.SC_setTitle=v(a.y4,a),b.SC_resize=v(a.Ck.resize,a.Ck),b.SC_setVisible=v(a.X_a,a),b.SC_prepareForVisible=v(a.wCa,a),b.SC_setAclInfo=v(a.M3a,a),b.SC_setClientModel=v(a.M3a,a),b.SC_dispatchEvent=v(a.yH,a),b.SC_handleError=v(a.uf,a),b.SC_handleCommandComplete=v(a.W_a,a),b.SC_setExecuteCommandFn=v(a.OAb,a),b.SC_setSetShareSystemVisibleFn=v(a.QAb,a),b.SC_setGetInterfaceVersionNumberFn=v(a.PAb,a),b.SC_getVersionNumber=v(a.JAb,a),b.SC_showPromo=v(a.SAb,a),b.SC_rewriteUrl=v(a.NAb,
a),b.SC_showNotification=v(a.RAb,a),b.SC_showButter=da)}
function n0a(a){if(a.oX&&!a.dx){var b=fd(a.Bj.xa().nj("").$k(""),"").toString();a.dx=new H$(null,b);a.dx.wk("handleCommandComplete",function(a){this.W_a(a.commandType,a.commandStatus)},a);a.dx.wk("resize",function(a){this.Ck.resize(a.width,a.height);this.dx.sendMessage("resizeComplete")},a);a.dx.wk("prepareForVisible",function(){this.wCa();this.dx.sendMessage("makeBodyVisible");this.dx.sendMessage("prepareComplete")},a);a.dx.wk("setVisible",function(a){this.X_a(a.visible)},a);a.dx.wk("setTitle",function(a){this.y4(a.title)},
a);a.vba=v(function(a){this.dx.sendMessage("executeCommand",{commandType:a})},a)}}function L$(a){var b={};b.impressionType=a;return b}e.doa=function(a){this.Wf&&this.Wf.length?this.Ns("settings",L$(1)):this.dispatchEvent(new o0a(v(this.doa,this,a)))};e.TJ=function(a){if(this.Bj)throw Error("Base uri has already been set and cannot be set again.");u(a)&&(a=new $c(a));this.Bj=a;this.oX&&n0a(this)};e.JAb=function(){return 2};
e.M3a=function(a){var b=this.ih;this.ih=j0a(a);this.rx&&b.cz!=this.ih.cz&&(this.VAa=!0);this.rx=!0;this.rN=!1;M$(this);a=this.ih;this.Qia=jX(this.na).length;$Ja(this.xI,a.sr(),a.kz,p0a(this),a.rBa&&this.mZa,this.Wf.length,this.na,a.sBa,!!a.cz);this.yH("menuUpdated");this.OBa();this.du&&this.du.Au(this.ih.Sj());this.ZK&&this.ZK.Au(this.ih.Sj());this.yH("aclInfoUpdated")};
e.F9a=function(){if(this.Wf&&this.Wf.length)this.rx?q0a(this):(this.xI.ea()||this.xI.O(!0,!0),this.Mga(!0));else{M$(this);for(var a=jX(this.na),b=a.length-1;0<=b;b--)N$(this,a[b])}};e.uf=function(a,b){switch(a){case "init":M$(this);if(b){var c=sq.U(),c=new bw(Zf(document,b),void 0,void 0,c);c.La(!1);N$(this,c)}else N$(this,this.J7);this.rx=this.tY=!0}};
e.W_a=function(a,b){var c="success"==b;switch(a){case "init":r0a(this);break;case "init_share":case "data":c&&(this.y$=x());t:{this.Yw=!1;var d=this.nV,f=this.a6;if(this.Kja)if(this.Kja=!1,this.Wf=this.I1a,delete this.I1a,this.nV=null,delete this.a6,delete this.Tja,c){if(d){f.itemIds=this.Wf;s0a(this,d,f);break t}}else"maybe_show_acl_fixer"==d&&t0a(this);O$(this,!1);d&&(c?(c=v(this.gEa,this,d,this.a6,this.Tja),M(c,10,this)):"maybe_show_acl_fixer"==d&&t0a(this),this.nV=null,delete this.a6,delete this.Tja)}break;
case "promo_closed":this.ZYa()}};e.PAb=function(){};e.OAb=function(a){this.BN=!0;this.vba=a};e.QAb=function(a){this.cba=a};e.SAb=function(a){var b=this.du?this.du.o():null;b&&(a=new k0a(a),a=new I$(a.Ge(),a.PO(),a.pa(),a.BG(),this.na),a.render(),a.BP(b,1),a.O(!0),$e(a,"hide",v(this.ojb,this,a)))};e.ojb=function(a){var b=a.pa();M(this.ZYa,25E3,this);var c={};b&&(c.promoType=b);b=this.wia;b||(this.wia=b=u0a());b.src=v0a(this,"promo_closed",c);a.Q()};e.NAb=function(a){return this.B7a?this.B7a(a):a};
e.RAb=function(a){var b=this.Ck;f0a(b.sgb,new c0a(a.iconId,a.message,a.showInDialog,a.timeout),b.bd.o())};e.y4=function(a){this.Ck.Qb(a)};e.sr=function(){return this.ih.sr()};e.Rja=function(){return this.ih.Rja()};e.CEa=function(){return this.ih.CEa()};e.AEa=function(){return this.ih.AEa()};e.BEa=function(){return this.ih.BEa()};function p0a(a){var b=a.ih.sr();return a.ih.kz?!1:40==b||30==b&&a.ih.Rja()}e.Sj=function(){return this.ih.Sj()};
e.Au=function(a){this.ih.Au(a);this.du&&this.du.Au(this.ih.Sj());this.ZK&&this.ZK.Au(this.ih.Sj())};e.Mga=function(a,b,c){this.Wf&&!gb(this.Wf)&&(this.Ck.ea()?this.qha=v(this.Mga,this,a,b):(a&&(M$(this),N$(this,this.rma),M(this.Ewb,1E4,this)),this.rN||(this.BN?(this.rN=!0,w0a(this,c,!0)):(this.rN=!0,this.Cwb?(this.Yw=!0,x0a(this,!0)):(this.ADa=!0,b=this.mja,b||(this.mja=b=u0a()),b.src=v0a(this,"init"),M(this.Dwb,25E3,this),a&&q0a(this))))))};
function q0a(a){if(a.HDb&&!a.tY)if(a.Yw||a.BN){var b;if(b=a.BN)b=2E4<x()-a.y$;b&&(a.Yw=!0,w0a(a,void 0,!0))}else a.Yw=!0,x0a(a,!0)}function x0a(a,b){var c={};c.preload=!!b;c=Qa('<iframe frameborder=0 src="',v0a(a,"init_share",c),'" class="',"share-client-content-iframe",'"></iframe>');a.Ck.Bb(c);b||O$(a,!0);a.wCa()}function w0a(a,b,c){b=b||{};b.itemIds||(b.itemIds=a.Wf);a.gEa("data",b,void 0,c)}function M$(a){for(var b=a.xI,c=a.Qia,d=0;d<c;d++)b.fK(0,!0);a.Qia=0;a.yH("menuUpdated")}
function N$(a,b){b.getParent()||(a.xI.Te(b,0,!0),a.Qia++,a.yH("menuUpdated"))}function K$(a){return a.I||(a.I=new K(a))}
function v0a(a,b,c){if(!a.Bj)return'javascript:""';var d=a.Bj.xa();H(d,"id",a.Wf);H(d,"foreignService",a.$I);H(d,"gaiaService",a.y7);H(d,"shareService",a.T8a);H(d,"shareProtocolVersion",a.Dq);H(d,"command",b);H(d,"subapp",10);H(d,"popupWindowsEnabled",a.S8a);H(d,"shareUiType","default");a.he&&H(d,"hl",a.he);a.cA&&H(d,"authuser",a.cA);H(d,"rand",x());c&&d.Di().extend(c);"0"!=a.pKa&&H(d,"theme",a.pKa);a.oX&&H(d,"client","postMessage");a.fi&&H(d,"appId",a.fi);a.oKa&&H(d,"embedOrigin",a.oKa);return d.toString()}
e.Ns=function(a,b){b=b||{};b.itemIds=this.Wf;m0a(this,this.Wna);var c=!0;switch(a){case "init":case "load_acl_fixer_data":case "maybe_email_collaborators":case "maybe_show_acl_fixer":case "preload_share":case "refresh":c=!1}switch(a){case "load_acl_fixer_data":case "maybe_show_acl_fixer":y0a(this,!0)}if(!this.BN&&this.Wf&&15<this.Wf.length)this.I1a=this.Wf,this.Wf=[this.Wf[0]],this.Kja=!0,s0a(this,a,b,!c);else if("init"==a||"refresh"==a)this.Mga(!1,!0,b);else if(!this.Wf||!this.Wf.length)this.dispatchEvent(new o0a(v(this.Ns,
this,a,b)));else if(this.dispatchEvent(new z0a)){if("invite"==a&&b.inviteFromUrl){if(this.rx&&!p0a(this))return;if(!this.rx){this.rN||this.Mga(!1,!0);K$(this).kb(this,"aclInfoUpdated",v(this.Ns,this,a,b));return}}var d;if(!(d=!this.BN)&&(d=2E4<x()-this.y$)){t:switch(d=b&&!!b.forceFullLoad,a){case "load_acl_fixer_data":case "maybe_show_acl_fixer":d=!d;break t;case "preload_share":d=!0;break t;default:d=!1}d=!d}d?(this.Kja&&c&&O$(this,!0),s0a(this,a,b,!c)):this.gEa(a,b)}};
function s0a(a,b,c,d){a.nV=b;a.a6=c;a.Tja=(new Date).getTime();ja(a.O_)&&N(a.O_);a.O_=M(a.WCb,25E3,a);a.Yw||(a.Yw=!0,a.BN?w0a(a,c,"load_acl_fixer_data"==b||"maybe_show_acl_fixer"==b):x0a(a,d))}e.gEa=function(a,b,c,d){if("preload_share"!=a){b=b||{};b.itemIds||(b.itemIds=this.Wf);if("maybe_show_acl_fixer"==a||"load_acl_fixer_data"==a)b.aclFixerMode=b.aclFixerMode||"mail",b.aclFixerModeInternal="mail";m0a(this,this.Wna);this.vba(a,b,c,d)}};
function u0a(){var a=Xf("iframe");a.src='javascript:""';var b=a.style;b.visibility="hidden";b.width=b.height="10px";tc?b.marginTop=b.marginLeft="-99px":(b.position="absolute",b.top=b.left="-10px");document.body.appendChild(a);return a}function r0a(a){var b=a.mja;b&&(dg(b),a.mja=null)}e.ZYa=function(){var a=this.wia;a&&(dg(a),this.wia=null)};e.Dwb=function(){this.ADa&&(r0a(this),this.ADa=!1)};e.Ewb=function(){this.rN&&!this.tY&&(M$(this),N$(this,this.J7),this.rN=!1,this.tY=!0)};
e.WCb=function(){if(this.Yw){switch(this.nV){case "maybe_show_acl_fixer":t0a(this);break;case "load_acl_fixer_data":case "preload_share":break;default:h0a(this.Ck,!0,this.UCb)}this.yH("loadError");A0a(this)}};e.E9a=function(){this.a6a&&A0a(this)};function A0a(a){a.Yw&&(B0a(a,!1),a.Ck.Bb(""),a.Yw=!1,O$(a,!1),a.nV=null,delete a.a6,delete a.Tja)}function O$(a,b){a.a6a=b;var c=a.Ck;b&&c.dispatchEvent("beforeLoad");c.b6a(b);b||c.dispatchEvent("afterLoad");b&&a.dispatchEvent("uiOpened")}
e.jJa=function(a){switch(a.target.$()){case "access":this.Ns("access");break;case "email":this.Ns("email",L$(5));break;case "emailAttach":this.Ns("email_attach",L$(6));break;case "invite":this.Ns("invite");break;case "link":this.Ns("link");break;case "settings":this.Ns("settings",L$(2))}};
e.OBa=function(){var a=this.ih,b=D$||(D$=new i0a),c=this.n0a||a.kz,d=p0a(this),f=this.w9a||void 0,g=1==this.Wf.length,h=30<=a.sr(),k=!c&&(h||d)&&g,d=!c&&(d||h||g&&a.sBa),a=!c&&g&&a.rBa&&this.mZa;f?f.HPb(a,k,d):(b.Pxb.La(a),b.Qxb.La(k),b.sE.La(d))};e.X_a=function(a){a&&(this.Yw=!1,O$(this,!1),h0a(this.Ck,!1));B0a(this,a)};e.wCa=function(){this.Ck.init()};
function B0a(a,b){b&&a.Ck.init();a.Ck.O(b);if(b)a.dispatchEvent("uiOpened");else{a.qha&&(a.qha(),a.qha=null);if(a.VAa){a.VAa=!1;var c=a.ih.cz,d=a.ih.Sj();c&&d&&"unlisted"==d.bD()&&(c=new C0a(c),a.Ctb?D0a(c):a.dispatchEvent(c))}a.cba&&a.cba(!1);a.dispatchEvent("uiClosed")}}function y0a(a,b){a.n0a=b;a.rx?a.OBa():((D$||(D$=new i0a)).sE.La(!b),K$(a).kb(a,"aclInfoUpdated",v(a.OBa,a)))}function t0a(a){y0a(a,!1);a.dispatchEvent(new P$("continue"))}
e.yH=function(a,b){switch(a){case "aclFixerDone":var c="continue";b&&b.aclFixerDoneStatus&&(c=b.aclFixerDoneStatus);y0a(this,!1);this.dispatchEvent(new P$(c));break;default:this.dispatchEvent(new J(a))}};
e.H=function(){J$.A.H.call(this);ja(this.O_)&&N(this.O_);this.xI.Q();delete this.xI;this.lta&&(this.lta.Q(),delete this.lta);this.ZK&&(this.ZK.Q(),this.ZK=null);this.du&&(this.du.Q(),this.du=null);this.rma.Q();delete this.rma;this.J7.Q();delete this.J7;delete this.na;this.pJa.Q();delete this.pJa;this.Ck.Q();delete this.Ck;this.I&&(this.I.Q(),this.I=null);this.Eh&&(this.Eh.Q(),this.Eh=null);this.Bj=this.Wf=null;this.ih.Q();delete this.ih;this.cba=this.vba=null};
function z0a(){J.call(this,"beforeExecute")}y(z0a,J);function o0a(a){J.call(this,"createItems");this.pd=a}y(o0a,J);function C0a(a){J.call(this,"reloadSuggested");this.awb=a}y(C0a,J);function D0a(a){var b=MO(md(a.awb),"authkey"),c=window,d=LO(md(c.location.href),"userstoinvite");b&&H(d,"authkey",b);var f=d.toString();f!=md(c.location.href).toString()&&((a=a.target)&&a.Q(),c.setTimeout(function(){c.location.href=f},0))}function P$(a){J.call(this,"aclFixerDone");this.yf=a}y(P$,J);P$.prototype.we=function(){return this.yf};function Q$(a){Fs.call(this,a);this.Opa={};a=eu(this.getContext());this.ma().B(a,"qa",this.Ug);this.G$=!1}y(Q$,cS);e=Q$.prototype;e.QI=null;e.bX=null;e.Cg=null;
e.execute=function(a){var b=a[0],c=a[1],d=a[2];a=a[3];var f=this.getContext(),g;g=b&&u(b)?(b=jl(b))?[b]:[]:b?[b]:bt(this.getContext().Z);b=g.length;if(0==b)nO(this.lf());else{this.QI=new Td;f.J();for(f=0;f<b;f++){var h=g[f];Ck(h,"shareable")||this.QI.add(h.getId())}f=this.QI.qa();if(h=bKa(g)){var k;if(!this.Opa[h]){var m=this.getContext().J(),p=void 0,r=null!=m.b[63]?m.b[63]:!1;r&&(p=new B$(void 0,h),k=new w$,p.kna(k,"top"));m=this.Opa[h]=new J$(m.Le(),m.O$a,m.y7,void 0,void 0,void 0,h,void 0,void 0,
void 0,p);m.TJ("share");r&&(k=new x$(m,k.Pz),B(this,k));this.ma().B(m,"aclInfoUpdated",this.Kab);this.ma().B(m,"uiClosed",this.Lab)}k=this.Opa[h];h=[];for(r=0;r<g.length;r++)h.push(g[r].Nd);g=s(h)?h:[h];sb(g);tb(g);h=k.Wf;k.rx&&vb(g,h)||(k.Wf=g,k.rx=!1,k.tY=!1,k.y$=0,k.Ns("refresh"),k.Ck.ea()&&B0a(k,!1));q(d)?(this.G$=!a,k.jJa(d)):0<f?b==f?dS(this,"em",1==b?"You do not have permission to share the item selected.":"You do not have permission to share the items selected."):(c=this.bX,c||(c=this.bX=
new eq,a=new jq,a.set("ok","OK",!0),a.set("cancel","Cancel",!1,!0),c.Cc(a),T(yO(c),!1),this.ma().B(c,"dialogselect",this.Jab)),c.Bb("You do not have permission to share "+(f+" of the items selected. Click OK to select only the sharable items.")),c.O(!0)):(d={},c&&n.parent==n&&null==n.frameElement&&(b={},c&&(b.recipient=c),d.notificationInfo=b),this.G$=!a,k.Ns("invite",d))}else ps(this.getContext()).Xb("The selected items can not be shared together. Please select one and try again,","m")}};e.Jab=function(a){switch(a.key){case "ok":this.getContext().Z.FG(this.QI)}};
e.Kab=function(a){a.target&&(a=a.target.Wf)&&0<a.length&&(this.Cg=new $z(a),Bm(eu(this.getContext()),this.Cg))};e.Ug=function(a){if(this.Cg&&this.Cg.ra()==a.request.ra()){a=a.response;var b=a.en()||Pr(ps(this.getContext()));a.getError()?dS(this,"em",b):(b=this.Cg.jc,b.length!=a.Hb().length&&(a=ab(a.Hb(),function(a){return a.getId()}),b=new Td(b),b.Gc(a),a=b.Sa(),a=kl(a),lO(this.lf(),a,this.Vtb)))}};e.Lab=function(){this.G$&&(lG(this.getContext()).dispatchEvent("r"),this.G$=!1)};
e.Vtb=function(a){a.MT("deleted",!0)};e.H=function(){Q$.A.H.call(this);this.QI&&(this.QI.clear(),this.QI=null);this.bX&&(this.bX.Q(),delete this.bX);this.Cg=null};Hs(38,function(a){return new Q$(a)});function E0a(){}y(E0a,KZ);E0a.prototype.initialize=function(){};Ce(Be.U(),"appsshare").lx(E0a);Be.U().Jv("appsshare");JO();
